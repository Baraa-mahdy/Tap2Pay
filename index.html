<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap2Pay - Arduino Science Fair Project</title>
    <link rel="icon" href="Create a futuristic .png" type="image/x-icon">
    
    <!-- Firebase SDK v8 (simpler for HTML files) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    
    <style>
        /* ==================== RESET & VARIABLES ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-red: #FF3B3B;
            --dark-gray: #1a1a1a;
            --light-gray: #f5f5f5;
            --white: #ffffff;
            --card-bg: #2a2a2a;
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            --shadow-light: 0 5px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --glow: 0 0 20px rgba(255, 59, 59, 0.5);
        }

        /* ==================== BODY & GLOBALS ==================== */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0a0a0a 100%);
            color: var(--white);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ==================== LANGUAGE TOGGLE ==================== */
        .lang-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: linear-gradient(135deg, var(--primary-red), #ff6b6b);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            z-index: 1000;
        }

        .lang-toggle:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow);
        }

        /* ==================== CUSTOM SCROLLBAR ==================== */
        /* Webkit browsers (Chrome, Safari, Edge) */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #FF3B3B 0%, #ff6b6b 100%);
            border-radius: 10px;
            border: 2px solid #0a0a0a;
            transition: all 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #ff6b6b 0%, #FF3B3B 100%);
            box-shadow: 0 0 15px rgba(255, 59, 59, 0.5);
        }

        ::-webkit-scrollbar-thumb:active {
            background: #FF3B3B;
        }

        /* Firefox */
        * {
            scrollbar-width: thin;
            scrollbar-color: #FF3B3B #0a0a0a;
        }

        /* ==================== CONTAINER & LAYOUT ==================== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* ==================== HEADER SECTION ==================== */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 0.8s ease-out;
        }

        .title {
            font-size: 4rem;
            font-weight: 900;
            color: var(--primary-red);
            letter-spacing: 3px;
            margin-bottom: 10px;
            text-transform: uppercase;
            animation: fadeInDown 0.8s ease-out, float 3s ease-in-out infinite;
        }

        .subtitle {
            font-size: 1rem;
            font-style: italic;
            color: #aaa;
            letter-spacing: 1px;
            animation: fadeIn 1.2s ease-out 0.3s both;
        }

        /* ==================== MAIN LAYOUT ==================== */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 60px;
        }

        /* ==================== LEFT COLUMN - COMPONENTS ==================== */
        .components-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: slideInLeft 0.6s ease-out;
        }

        .component-card {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow-light);
            animation: slideInLeft 0.6s ease-out;
            animation-fill-mode: both;
        }

        .component-card:nth-child(1) { animation-delay: 0.1s; }
        .component-card:nth-child(2) { animation-delay: 0.2s; }
        .component-card:nth-child(3) { animation-delay: 0.3s; }
        .component-card:nth-child(4) { animation-delay: 0.4s; }
        .component-card:nth-child(5) { animation-delay: 0.5s; }

        .component-card:hover {
            border-color: var(--primary-red);
            box-shadow: var(--glow), var(--shadow);
            transform: translateY(-3px);
        }

        .component-card.expanded {
            background: linear-gradient(135deg, var(--primary-red) 0%, #cc2f2f 100%);
            box-shadow: var(--glow), var(--shadow);
        }

        .component-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .component-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--white);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .component-card.expanded .component-title {
            color: var(--white);
        }

        .arrow-icon {
            font-size: 1.5rem;
            transition: var(--transition);
            color: var(--primary-red);
        }

        .component-card:hover .arrow-icon {
            color: var(--white);
        }

        .component-card.expanded .arrow-icon {
            transform: rotate(180deg);
            color: var(--white);
        }

        .component-description {
            margin-top: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, margin-top 0.5s ease-out;
            color: var(--light-gray);
            line-height: 1.6;
            opacity: 0;
        }

        .component-card.expanded .component-description {
            max-height: 300px;
            margin-top: 15px;
            opacity: 1;
            animation: slideDown 0.5s ease-out;
        }

        /* ==================== RIGHT COLUMN - HOW IT WORKS ==================== */
        .right-column {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .how-it-works {
            background: linear-gradient(135deg, var(--card-bg) 0%, #2a2a2a 100%);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow-light);
            border-left: 4px solid var(--primary-red);
            animation: slideInRight 0.6s ease-out;
            margin-top: 40px;
        }

        .how-it-works-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .steps-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .step {
            display: flex;
            gap: 15px;
            align-items: flex-start;
            padding: 15px;
            background: rgba(255, 59, 59, 0.05);
            border-radius: 8px;
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
        }

        .step:nth-child(1) { animation-delay: 0.5s; }
        .step:nth-child(2) { animation-delay: 0.6s; }
        .step:nth-child(3) { animation-delay: 0.7s; }
        .step:nth-child(4) { animation-delay: 0.8s; }
        .step:nth-child(5) { animation-delay: 0.9s; }

        .step:hover {
            background: rgba(255, 59, 59, 0.1);
            transform: translateX(5px);
        }

        .step-number {
            min-width: 35px;
            height: 35px;
            background: var(--primary-red);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--white);
            flex-shrink: 0;
        }

        .step-text {
            font-size: 0.95rem;
            line-height: 1.5;
            color: #ddd;
            padding-top: 2px;
        }

        /* ==================== KEY FEATURES ==================== */
        .key-features {
            background: linear-gradient(135deg, rgba(42, 42, 42, 0.8) 0%, rgba(26, 26, 26, 0.8) 100%);
            border-radius: 16px;
            padding: 50px 40px;
            box-shadow: var(--shadow);
            margin-top: 60px;
            animation: fadeInUp 0.8s ease-out 0.4s both;
            border: 1px solid rgba(255, 59, 59, 0.1);
        }

        .features-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .features-list {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
        }

        .feature-item {
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: flex-start;
            padding: 20px;
            border-radius: 8px;
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
            background: rgba(255, 59, 59, 0.05);
            border: 1px solid rgba(255, 59, 59, 0.2);
        }

        .feature-item:nth-child(1) { animation-delay: 0.5s; }
        .feature-item:nth-child(2) { animation-delay: 0.6s; }
        .feature-item:nth-child(3) { animation-delay: 0.7s; }
        .feature-item:nth-child(4) { animation-delay: 0.8s; }
        .feature-item:nth-child(5) { animation-delay: 0.9s; }

        .feature-item {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            text-align: center;
            padding: 25px 20px;
            border-radius: 12px;
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
            background: linear-gradient(135deg, rgba(255, 59, 59, 0.08) 0%, rgba(255, 59, 59, 0.02) 100%);
            border: 1px solid rgba(255, 59, 59, 0.15);
        }

        .feature-item:hover {
            background: linear-gradient(135deg, rgba(255, 59, 59, 0.15) 0%, rgba(255, 59, 59, 0.08) 100%);
            transform: translateY(-5px);
            box-shadow: var(--glow), 0 10px 30px rgba(255, 59, 59, 0.2);
            border-color: var(--primary-red);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-red);
            min-width: auto;
            text-align: center;
        }

        .feature-text {
            font-size: 0.85rem;
            color: #bbb;
            line-height: 1.5;
        }

        .feature-title {
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 5px;
        }

        /* ==================== ANIMATIONS ==================== */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 59, 59, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(255, 59, 59, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(255, 59, 59, 0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ==================== FEEDBACK BUTTON ==================== */
        .feedback-btn {
            position: fixed;
            bottom: 40px;
            right: 40px;
            background: linear-gradient(135deg, var(--primary-red) 0%, #cc2f2f 100%);
            color: var(--white);
            border: none;
            border-radius: 50px;
            padding: 16px 28px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
            animation: pulse 2s infinite, float 3s ease-in-out infinite;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
        }

        .feedback-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--glow), var(--shadow);
        }

        .feedback-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: #ffd700;
            color: var(--dark-gray);
            border-radius: 50%;
            min-width: 24px;
            height: 24px;
            font-size: 0.75rem;
            font-weight: 900;
            margin-left: 5px;
        }

        /* ==================== MODAL OVERLAY ==================== */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 200;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ==================== MODAL CONTENT ==================== */
        .modal-content {
            background: linear-gradient(135deg, var(--card-bg) 0%, #1f1f1f 100%);
            border-radius: 16px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: var(--shadow);
            animation: scaleIn 0.4s ease-out;
            border: 1px solid rgba(255, 59, 59, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 2px solid rgba(255, 59, 59, 0.3);
            padding-bottom: 15px;
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--primary-red);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--primary-red);
            font-size: 2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            transform: rotate(90deg);
            color: var(--white);
        }

        /* ==================== FORM ELEMENTS ==================== */
        .feedback-form {
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-red);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-input,
        .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(255, 59, 59, 0.3);
            border-radius: 8px;
            background: rgba(255, 59, 59, 0.05);
            color: var(--white);
            font-family: inherit;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 15px rgba(255, 59, 59, 0.3);
            background: rgba(255, 59, 59, 0.08);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
            font-family: 'Courier New', monospace;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--primary-red) 0%, #cc2f2f 100%);
            color: var(--white);
            border: none;
            border-radius: 8px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow), var(--shadow-light);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: var(--white);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ==================== SUCCESS MESSAGE ==================== */
        .success-message {
            display: none;
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #4caf50;
            font-weight: 600;
            animation: slideUp 0.4s ease-out;
        }

        .success-message.show {
            display: block;
        }

        /* ==================== ERROR MESSAGE ==================== */
        .error-message {
            display: none;
            background: rgba(244, 67, 54, 0.2);
            border: 2px solid #f44336;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #f44336;
            font-weight: 600;
            animation: slideUp 0.4s ease-out;
        }

        .error-message.show {
            display: block;
        }

        /* ==================== GREETING MESSAGE ==================== */
        .greeting-message {
            display: none;
            background: rgba(33, 150, 243, 0.2);
            border: 2px solid #2196F3;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #2196F3;
            font-weight: 600;
            animation: slideUp 0.4s ease-out;
        }

        .greeting-message.show {
            display: block;
        }

        /* ==================== COMMENTS SECTION ==================== */
        .comments-section {
            margin-top: 35px;
            padding-top: 25px;
            border-top: 2px solid rgba(255, 59, 59, 0.3);
        }

        .comments-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .comments-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 300px;
            overflow-y: auto;
        }

        .comment-card {
            background: linear-gradient(135deg, rgba(255, 59, 59, 0.08) 0%, rgba(255, 59, 59, 0.02) 100%);
            border: 1px solid rgba(255, 59, 59, 0.2);
            border-radius: 8px;
            padding: 15px;
            animation: slideUp 0.5s ease-out;
            animation-fill-mode: both;
        }

        .comment-card:nth-child(1) { animation-delay: 0.1s; }
        .comment-card:nth-child(2) { animation-delay: 0.2s; }
        .comment-card:nth-child(3) { animation-delay: 0.3s; }

        .comment-text {
            color: #ddd;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .comment-date {
            font-size: 0.75rem;
            color: #888;
            font-style: italic;
        }

        .no-comments {
            text-align: center;
            color: #888;
            padding: 20px;
            font-style: italic;
        }

        /* ==================== ADMIN PANEL ==================== */
        .admin-panel {
            display: none;
            margin-top: 35px;
            padding-top: 25px;
            border-top: 2px solid rgba(255, 59, 59, 0.3);
        }

        .admin-panel.active {
            display: block;
        }

        .admin-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .pending-item {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            animation: slideUp 0.5s ease-out;
        }

        .pending-text {
            color: #ddd;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .pending-meta {
            font-size: 0.75rem;
            color: #888;
            margin-bottom: 12px;
        }

        .admin-buttons {
            display: flex;
            gap: 10px;
        }

        .approve-btn,
        .decline-btn {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.85rem;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .approve-btn {
            background: #4caf50;
            color: white;
        }

        .approve-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .decline-btn {
            background: #f44336;
            color: white;
        }

        .decline-btn:hover {
            background: #da190b;
            transform: translateY(-2px);
        }

        /* ==================== ADMIN LOGIN MODAL ==================== */
        .admin-login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .admin-login-modal.active {
            display: flex;
            opacity: 1;
        }

        .admin-login-box {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            max-width: 450px;
            width: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .admin-login-modal.active .admin-login-box {
            transform: scale(1);
        }

        .admin-login-title {
            font-size: 1.8rem;
            color: #ffd700;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
        }

        .admin-login-input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid #444;
            border-radius: 10px;
            background: #1a1a1a;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .admin-login-input:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }

        .admin-login-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .admin-login-submit {
            flex: 1;
            padding: 15px;
            background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
            color: #000;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-login-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
        }

        .admin-login-cancel {
            flex: 1;
            padding: 15px;
            background: #444;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-login-cancel:hover {
            background: #555;
            transform: translateY(-2px);
        }

        /* ==================== RESPONSIVE DESIGN ==================== */
        @media (max-width: 1366px) and (min-width: 1024px) {
            .container {
                max-width: 1100px;
                padding: 40px 30px;
            }

            .title {
                font-size: 3.2rem;
            }

            .main-content {
                gap: 30px;
            }

            .components-section {
                gap: 12px;
            }

            .how-it-works {
                margin-top: 40px;
                padding: 26px;
            }

            .features-list {
                grid-template-columns: repeat(3, 1fr);
                gap: 18px;
            }

            .feature-text {
                font-size: 0.8rem;
            }
        }

        @media (max-width: 1024px) and (min-width: 769px) {
            .main-content {
                gap: 25px;
            }

            .features-list {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .feedback-btn {
                bottom: 30px;
                right: 30px;
                padding: 14px 20px;
                font-size: 0.85rem;
            }

            .modal-content {
                padding: 30px 20px;
                max-width: 95%;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            .comments-list {
                max-height: 250px;
            }

            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .title {
                font-size: 2.5rem;
            }

            .section-title,
            .how-it-works-title,
            .features-title {
                font-size: 1.3rem;
            }

            .component-title {
                font-size: 1.1rem;
            }

            .features-list {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .container {
                padding: 30px 15px;
            }
        }

        @media (max-width: 480px) {
            .feedback-btn {
                bottom: 20px;
                right: 20px;
                padding: 12px 16px;
                font-size: 0.75rem;
            }

            .modal-content {
                padding: 20px 15px;
                max-width: 100%;
            }

            .modal-title {
                font-size: 1.2rem;
            }

            .comments-list {
                max-height: 200px;
            }

            .title {
                font-size: 2rem;
                letter-spacing: 1px;
            }

            .subtitle {
                font-size: 0.85rem;
            }

            .section-title {
                font-size: 1.1rem;
            }

            .component-title {
                font-size: 1rem;
            }

            .how-it-works,
            .key-features {
                padding: 20px;
            }

            .features-list {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .feature-item {
                padding: 18px 15px;
            }

            .feature-icon {
                font-size: 2rem;
            }

            .step-number {
                min-width: 30px;
                height: 30px;
                font-size: 0.8rem;
            }

            .step-text {
                font-size: 0.85rem;
            }

            .feature-text {
                font-size: 0.8rem;
            }
        }

        /* ==================== FOOTER ==================== */
        .footer {
            text-align: center;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 59, 59, 0.2);
            color: #888;
            font-size: 0.9rem;
            animation: fadeIn 1.5s ease-out 1s both;
        }

        .footer a {
            color: var(--primary-red);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer a:hover {
            text-decoration: underline;
        }

        /* ==================== AUTHENTICATION STYLES ==================== */
        .auth-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0a0a0a 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 5000;
            opacity: 1;
            visibility: visible;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .auth-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .auth-box {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
            max-width: 500px;
            width: 90%;
            animation: scaleIn 0.5s ease;
        }

        .auth-title {
            font-size: 2.2rem;
            color: var(--primary-red);
            text-align: center;
            margin-bottom: 15px;
            font-weight: 900;
        }

        .auth-subtitle {
            text-align: center;
            color: #aaa;
            margin-bottom: 40px;
            font-size: 0.95rem;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .auth-input {
            padding: 15px;
            border: 2px solid #444;
            border-radius: 10px;
            background: #1a1a1a;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .auth-input:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 15px rgba(255, 59, 59, 0.3);
        }

        .auth-button {
            padding: 15px;
            background: linear-gradient(135deg, var(--primary-red) 0%, #ff6b6b 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 59, 59, 0.4);
        }

        .auth-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .auth-error {
            color: #ff6b6b;
            text-align: center;
            font-size: 0.9rem;
            display: none;
        }

        .auth-error.show {
            display: block;
        }

        .restricted-content {
            text-align: center;
            padding: 60px 20px;
        }

        .restricted-title {
            font-size: 2rem;
            color: var(--primary-red);
            margin-bottom: 20px;
        }

        .restricted-message {
            font-size: 1.1rem;
            color: #ccc;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .user-info {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 59, 59, 0.1);
            border: 2px solid var(--primary-red);
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            font-size: 0.9rem;
            z-index: 1000;
            display: none;
        }

        .user-info.show {
            display: block;
        }

        .user-info-text {
            margin-bottom: 10px;
        }

        .logout-btn {
            background: var(--primary-red);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #ff6b6b;
        }

        .content {
            display: none;
        }

        .content.visible {
            display: block;
        }

        /* ==================== BLUR EFFECT FOR RESTRICTED CONTENT ==================== */
        .text-wrapper {
            position: relative;
            display: block;
        }

        .blurred-text {
            filter: blur(5px);
            pointer-events: none;
            user-select: none;
        }

        .restricted-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--primary-red);
            font-weight: 900;
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            white-space: nowrap;
            text-shadow: 0 0 10px rgba(0, 0, 0, 1), 0 0 20px rgba(255, 59, 59, 0.8);
            pointer-events: none;
            z-index: 10;
        }

    </style>
</head>
<body>
    <!-- Authentication Screen -->
    <div class="auth-screen" id="authScreen">
        <div class="auth-box">
            <h1 class="auth-title">Tap2Pay</h1>
            <p class="auth-subtitle">Sign in to access the project</p>
            <form class="auth-form" id="authForm">
                <select id="authRole" class="auth-input" required>
                    <option value="">Select Role</option>
                    <option value="Admin">Admin</option>
                    <option value="Team">Team</option>
                    <option value="Visitor">Visitor</option>
                </select>
                <input type="text" id="authName" class="auth-input" placeholder="Your Name" required>
                <input type="password" id="authPassword" class="auth-input" placeholder="Password" required>
                <button type="submit" class="auth-button" id="authSubmitBtn">Sign In</button>
                <div class="auth-error" id="authError"></div>
            </form>
        </div>
    </div>

    <!-- User Info (Top Right) -->
    <div class="user-info" id="userInfo">
        <div class="user-info-text">ðŸ‘¤ <strong id="userRole"></strong></div>
        <div class="user-info-text">ðŸ“‹ <strong id="userAccess"></strong></div>
        <button class="logout-btn" id="logoutBtn">Logout</button>
    </div>

    <!-- Main Content (Hidden until authenticated) -->
    <div class="content" id="mainContent">
    <!-- Header Section -->
    <div class="container">
        <div class="header">
            <h1 class="title">Tap2Pay</h1>
            <p class="subtitle">By Zeyad, Zuhair, Baraa | Arduino Science Fair Project</p>
        </div>

        <!-- Main Content: Two Column Layout -->
        <div class="main-content">
            <!-- Left Column: Components -->
            <div class="components-section">
                <h2 class="section-title">Main Components</h2>

                <!-- Component 1: Arduino Uno R3 -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">Arduino Uno R3</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                    <p class="component-description">The Arduino Uno R3 is the main controller of the entire Tap2Pay system. It manages communication between all hardware components, processes button input, receives data from the NFC reader, updates the OLED screen, and sends control signals to the servo motor. It also supplies power and ensures stable operation of the whole project.</p>
                </div>

                <!-- Component 2: NFC Card Reader -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">NFC Card Reader</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                    <p class="component-description">The NFC card reader detects NFC cards when they are placed near it. It reads stored information from the card and can write new data such as updated balance values. Each card acts like a digital wallet inside the system.</p>
                </div>

                <!-- Component 3: OLED Screen -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">OLED Screen</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                    <p class="component-description">The OLED screen displays all user interface elements. It shows menu options, balance amount, confirmations, and system messages, giving real-time feedback to the Card.</p>
                </div>

                <!-- Component 4: Tactile Push Buttons -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">Tactile Push Buttons</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                    <p class="component-description">Two tactile buttons allow navigation. The red button scrolls down through menu options. The green button confirms and selects options. This creates simple and intuitive control.</p>
                </div>

                <!-- Component 5: SG90 Servo Motor -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">SG90 Servo Motor</span>
                        <span class="arrow-icon">â–¼</span>
                    </div>
                    <p class="component-description">The SG90 servo motor controls a small physical barrier. When the OPEN BARRIER option is selected, the servo rotates to lift the barrier, allowing the mini car to pass, then closes again.</p>
                </div>
            </div>

            <!-- Right Column: How It Works & Key Features -->
            <div class="right-column">
                <!-- How It Works Section -->
                <div class="how-it-works">
                    <h2 class="how-it-works-title" data-en="How It Works" data-ar="ÙƒÙŠÙ ÙŠØ¹Ù…Ù„">How It Works</h2>
                    <div class="steps-list">
                       
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-text" data-en="OLED Screen displays menu: CHECK BALANCE, ADD MONEY, PAY MONEY, and OPEN BARRIER." data-ar="ØªØ¹Ø±Ø¶ Ø´Ø§Ø´Ø© OLED Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ØŒ Ø¥Ø¶Ø§ÙØ© Ø£Ù…ÙˆØ§Ù„ØŒ Ø¯ÙØ¹ Ø£Ù…ÙˆØ§Ù„ØŒ ÙˆÙØªØ­ Ø§Ù„Ø­Ø§Ø¬Ø².">OLED Screen displays menu: CHECK BALANCE, ADD MONEY, PAY MONEY, and OPEN BARRIER.</div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-text" data-en="Use buttons to navigate: Red = DOWN, Green = OK." data-ar="Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ù„ØªÙ†Ù‚Ù„: Ø§Ù„Ø£Ø­Ù…Ø± = Ø£Ø³ÙÙ„ØŒ Ø§Ù„Ø£Ø®Ø¶Ø± = Ù…ÙˆØ§ÙÙ‚.">Use buttons to navigate: Red = DOWN, Green = OK.</div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-text" data-en="Choose Options From The 4 Options CHECK BALANCE, ADD MONEY, PAY MONEY, and OPEN BARRIER." data-ar="Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø¹Ø©: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ØŒ Ø¥Ø¶Ø§ÙØ© Ø£Ù…ÙˆØ§Ù„ØŒ Ø¯ÙØ¹ Ø£Ù…ÙˆØ§Ù„ØŒ ÙˆÙØªØ­ Ø§Ù„Ø­Ø§Ø¬Ø².">Choose Options From The 4 Options CHECK BALANCE, ADD MONEY, PAY MONEY, and OPEN BARRIER.</div>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div class="step-text" data-en="After that follow the instructions on the screen depending on what option you choose." data-ar="Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ Ø§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø°ÙŠ Ø§Ø®ØªØ±ØªÙ‡.">After that follow the instructions on the screen depending on what option you choose.</div>
                        </div>
                    </div>
                </div>
            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Features Section - Full Width Below Main Content -->
        <div class="key-features">
            <h2 class="features-title" data-en="Key Features" data-ar="Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">Key Features</h2>
            <div class="features-list">
                <div class="feature-item">
                    <span class="feature-icon">âš¡</span>
                    <div>
                        <div class="feature-title" data-en="Interactive NFC Menu" data-ar="Ù‚Ø§Ø¦Ù…Ø© NFC ØªÙØ§Ø¹Ù„ÙŠØ©">Interactive NFC Menu</div>
                        <span class="feature-text" data-en="Contactless card recognition with instant response." data-ar="Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¨Ø¯ÙˆÙ† ØªÙ„Ø§Ù…Ø³ Ù…Ø¹ Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙÙˆØ±ÙŠØ©.">Contactless card recognition with instant response.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ðŸ’°</span>
                    <div>
                        <div class="feature-title" data-en="Balance Simulation" data-ar="Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø±ØµÙŠØ¯">Balance Simulation</div>
                        <span class="feature-text" data-en="Add, Pay, and track digital wallet funds in real-time." data-ar="Ø¥Ø¶Ø§ÙØ© ÙˆØ¯ÙØ¹ ÙˆØªØªØ¨Ø¹ Ø£Ù…ÙˆØ§Ù„ Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ.">Add, Pay, and track digital wallet funds in real-time.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ðŸš—</span>
                    <div>
                        <div class="feature-title" data-en="Gate Control System" data-ar="Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©">Gate Control System</div>
                        <span class="feature-text" data-en="Motorized barrier opens with servo activation." data-ar="ÙŠÙØªØ­ Ø§Ù„Ø­Ø§Ø¬Ø² Ø§Ù„Ø¢Ù„ÙŠ Ø¨ØªÙØ¹ÙŠÙ„ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆ.">Motorized barrier opens with servo activation.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ðŸŽ®</span>
                    <div>
                        <div class="feature-title" data-en="Two-Button Navigation" data-ar="Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨Ø²Ø±ÙŠÙ†">Two-Button Navigation</div>
                        <span class="feature-text" data-en="Simple red and green button menu control." data-ar="Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø³ÙŠØ·Ø© Ø¨Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø£Ø®Ø¶Ø±.">Simple red and green button menu control.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ðŸ“±</span>
                    <div>
                        <div class="feature-title" data-en="OLED Feedback" data-ar="Ø±Ø¯ÙˆØ¯ ÙØ¹Ù„ OLED">OLED Feedback</div>
                        <span class="feature-text" data-en="Crystal-clear display of all user interactions." data-ar="Ø¹Ø±Ø¶ ÙˆØ§Ø¶Ø­ ØªÙ…Ø§Ù…Ø§Ù‹ Ù„Ø¬Ù…ÙŠØ¹ ØªÙØ§Ø¹Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….">Crystal-clear display of all user interactions.</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>ðŸš€ Science Fair Project | Arduino-Powered NFC Payment System</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">Â© 2026 Tap2Pay Project | All Rights Reserved</p>
        </div>
    </div>
    </div>

    <!-- Feedback Button -->
    </div>

    <button class="feedback-btn" id="feedbackBtn">
        ðŸ’¬ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
        <span class="feedback-badge" id="badgeCount" style="display: none;">0</span>
    </button>

    <!-- Feedback Modal -->
    <div class="modal-overlay" id="feedbackModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" data-en="Project Updates" data-ar="ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ø´Ø±ÙˆØ¹">Project Updates</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>

            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage" data-en="âœ“ Your suggestion has been submitted for review!" data-ar="âœ“ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù‚ØªØ±Ø§Ø­Ùƒ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©!">âœ“ Your suggestion has been submitted for review!</div>
            <div class="greeting-message" id="greetingMessage" data-en="ðŸ‘‹ Hello! Thanks for reaching out. How can we help you today?" data-ar="ðŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ">ðŸ‘‹ Hello! Thanks for reaching out. How can we help you today?</div>

            <!-- Feedback Form -->
            <form class="feedback-form" id="feedbackForm">
                <div class="form-group">
                    <label class="form-label" for="suggestionTitle" data-en="Your Name or Title" data-ar="Ø§Ø³Ù…Ùƒ Ø£Ùˆ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">Your Name or Title</label>
                    <input type="text" id="suggestionTitle" class="form-input" placeholder="e.g., Feature Idea, Bug Report" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="suggestionText" data-en="Your Suggestion or Update" data-ar="Ø§Ù‚ØªØ±Ø§Ø­Ùƒ Ø£Ùˆ ØªØ­Ø¯ÙŠØ«Ùƒ">Your Suggestion or Update</label>
                    <textarea id="suggestionText" class="form-textarea" placeholder="Share your ideas, suggestions, or updates..." required></textarea>
                </div>

                <button type="submit" class="submit-btn" id="submitBtn" data-en="Submit Suggestion" data-ar="Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­">
                    <span class="loading-spinner" id="spinner" style="display: none;"></span>
                    Submit Suggestion
                </button>
            </form>

            <!-- Comments Section -->
            <div class="comments-section">
                <h3 class="comments-title" data-en="All Submissions" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø§Øª">All Submissions</h3>
                <div class="comments-list" id="commentsList">
                    <div class="no-comments">No updates yet. Be the first to suggest!</div>
                </div>
            </div>

            <!-- Admin Panel -->
            <div class="admin-panel" id="adminPanel">
                <h3 class="admin-title">ðŸ” Admin Panel</h3>
                <div id="pendingSubmissions"></div>
                <button class="decline-btn" id="logoutAdmin" style="width: auto; margin-top: 15px;">Logout Admin</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="admin-login-modal" id="adminLoginModal">
        <div class="admin-login-box">
            <h2 class="admin-login-title">ðŸ” Login</h2>
            <select id="roleSelect" class="admin-login-input" required>
                <option value="">Select Role</option>
                <option value="Admin">Admin</option>
                <option value="Team">Team</option>
                <option value="Visitor">Visitor</option>
            </select>
            <input type="text" id="userName" class="admin-login-input" placeholder="Your Name" required>
            <input type="password" id="adminPassword" class="admin-login-input" placeholder="Password" required>
            <div class="admin-login-buttons">
                <button class="admin-login-submit" id="adminLoginSubmit">Login</button>
                <button class="admin-login-cancel" id="adminLoginCancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- JavaScript for Interactivity -->
    <script>
        // ==================== COMPONENT CARD ACCORDION ==================== //
        const componentCards = document.querySelectorAll('.component-card');

        componentCards.forEach(card => {
            card.addEventListener('click', function() {
                // Check if this card is already expanded
                const isExpanded = this.classList.contains('expanded');

                // Close all other cards
                componentCards.forEach(c => {
                    if (c !== this) {
                        c.classList.remove('expanded');
                    }
                });

                // Toggle current card
                this.classList.toggle('expanded');
            });
        });

        // ==================== TRANSLATION SYSTEM ==================== //
        let currentLang = localStorage.getItem('lang') || 'en';

        const translations = {
            en: {
                authSubtitle: 'Sign in to access the project',
                selectRole: 'Select Role',
                roleAdmin: 'Admin',
                roleTeam: 'Team',
                roleVisitor: 'Visitor',
                yourName: 'Your Name',
                password: 'Password',
                signIn: 'Sign In',
                subtitle: 'By Zeyad, Zuhair, Baraa | Arduino Science Fair Project',
                mainComponents: 'Main Components',
                howItWorks: 'How It Works',
                keyFeatures: 'Key Features',
                aboutProject: 'About This Project',
                teamUpdates: 'Team Updates',
                adminPanel: 'Admin Panel',
                pendingSubmissions: 'Pending Submissions',
                allComments: 'All Comments & Suggestions',
                shareFeedback: 'Share Your Feedback',
                arduinoTitle: 'Arduino Uno R3',
                arduinoDesc: 'The Arduino Uno R3 is the main controller of the entire Tap2Pay system. It manages communication between all hardware components, processes button input, receives data from the NFC reader, updates the OLED screen, and sends control signals to the servo motor. It also supplies power and ensures stable operation of the whole project.',
                nfcTitle: 'NFC Card Reader',
                nfcDesc: 'The NFC (Near Field Communication) reader enables contactless card reading. It scans payment cards and mobile wallets at close range, detects card presence, reads secure card data, and sends this information to the Arduino for verification. This is what makes Tap2Pay truly \"tap-and-go.\"',
                servoTitle: 'Servo Motor',
                servoDesc: 'The Servo Motor physically opens and closes the payment gate. When a successful payment is detected, the Arduino commands the servo to rotate 90 degrees (opening the gate). After a set delay, the servo returns to its original position, closing the gate until the next payment.',
                oledTitle: 'OLED Screen',
                oledDesc: 'The OLED display provides real-time visual feedback to the user. It shows messages like \"Tap Your Card,\" \"Payment Successful,\" and \"Access Granted\" (or denied). The screen helps users understand what the system is doing at every step.',
                buttonTitle: 'Push Button',
                buttonDesc: 'The push button gives manual control for testing and override. It can manually trigger the gate, test system responses, and reset the display. Its useful during development, demos, and for admin control.',
                breadboardTitle: 'Breadboard',
                breadboardDesc: 'The breadboard is where all components are physically connected. It acts as a central hub linking the Arduino, NFC reader, servo motor, OLED, button, and power rails. It makes prototyping easier without needing to solder components permanently.',
                step1: 'System Initialization',
                step1Desc: 'When powered on, the Arduino initializes all connected components (NFC reader, OLED screen, servo motor). The OLED displays a welcome message or \"Ready\" status.',
                step2: 'Waiting for Card Tap',
                step2Desc: 'The system enters a standby mode. The NFC reader actively listens for a nearby card or mobile device. The OLED prompts the user to \"Tap Your Card.\"',
                step3: 'Card Detection & Verification',
                step3Desc: 'When a card is tapped, the NFC reader reads the unique card ID. The Arduino checks if the card is authorized (pre-registered in code or database). The OLED updates to show \"Processing...\"',
                step4: 'Gate Opens',
                step4Desc: 'If the card is authorized, the OLED shows \"Access Granted.\" The Arduino sends a signal to the servo motor, which rotates to open the physical gate (allowing entry).',
                step5: 'Automatic Gate Close',
                step5Desc: 'After a few seconds (adjustable delay), the Arduino signals the servo to return to its original position, closing the gate. The system resets and waits for the next tap.',
                feature1: 'Contactless Payment',
                feature1Desc: 'Pay instantly by tapping your NFC-enabled card or smartphoneâ€”no swiping or inserting required.',
                feature2: 'Automated Access Control',
                feature2Desc: 'Servo motor automatically opens the gate when payment is verified, then closes after a set delay.',
                feature3: 'Real-Time Visual Feedback',
                feature3Desc: 'The OLED screen shows live status updates like \"Tap Card,\" \"Processing,\" \"Access Granted,\" or \"Denied.\"',
                feature4: 'Manual Override Button',
                feature4Desc: 'Push button allows manual testing and control for admins or debugging purposes.',
                feature5: 'Expandable System',
                feature5Desc: 'The modular design allows easy addition of Wi-Fi logging, database integration, multiple readers, or app connectivity.',
                feature6: 'Low-Cost & DIY-Friendly',
                feature6Desc: 'Built entirely with affordable, beginner-friendly Arduino componentsâ€”perfect for science fair projects or learning electronics.',
                aboutText1: 'Tap2Pay is an Arduino-based contactless payment and access control system designed by students for a science fair project. It demonstrates how NFC technology can be used to create real-world applications like automated toll booths, parking gates, or secure entry systems.',
                aboutText2: 'This project combines hardware (Arduino, NFC reader, servo motor, OLED display) with software logic to create a functional prototype. Its a great example of Internet of Things (IoT) principles, embedded systems programming, and practical engineering.',
                projectBy: 'Â© 2024 Tap2Pay - Arduino Project by Zeyad, Zuhair, and Baraa',
                noComments: 'No comments yet. Be the first to share your thoughts!',
                commentTitle: 'Comment Title',
                commentText: 'Your comment...',
                submitComment: 'Submit Comment',
                reply: 'Reply',
                postReply: 'Post Reply',
                deleteBtn: 'Delete',
                approveBtn: 'Approve',
                declineBtn: 'Decline',
                pendingStatus: 'Pending',
                approvedStatus: 'Approved',
                rejectedStatus: 'Rejected',
                noPendingSubmissions: 'No pending submissions',
                noSubmissions: 'No submissions yet',
                firebaseNotConfigured: 'Firebase not configured. Comments are disabled.',
                logout: 'Logout'
            },
            ar: {
                authSubtitle: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹',
                selectRole: 'Ø§Ø®ØªØ± Ø§Ù„Ø¯ÙˆØ±',
                roleAdmin: 'Ù…Ø³Ø¤ÙˆÙ„',
                roleTeam: 'ÙØ±ÙŠÙ‚',
                roleVisitor: 'Ø²Ø§Ø¦Ø±',
                yourName: 'Ø§Ø³Ù…Ùƒ',
                password: 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±',
                signIn: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
                subtitle: 'Ù…Ù† Ù‚Ø¨Ù„ Ø²ÙŠØ§Ø¯ØŒ Ø²Ù‡ÙŠØ±ØŒ Ø¨Ø±Ø§Ø¡ | Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù„ÙˆÙ… Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ',
                mainComponents: 'Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
                howItWorks: 'ÙƒÙŠÙ ÙŠØ¹Ù…Ù„',
                keyFeatures: 'Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',
                aboutProject: 'Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹',
                teamUpdates: 'ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„ÙØ±ÙŠÙ‚',
                adminPanel: 'Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©',
                pendingSubmissions: 'Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©',
                allComments: 'Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙˆØ§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª',
                shareFeedback: 'Ø´Ø§Ø±Ùƒ Ø±Ø£ÙŠÙƒ',
                arduinoTitle: 'Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ø£ÙˆÙ†Ùˆ R3',
                arduinoDesc: 'Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ø£ÙˆÙ†Ùˆ R3 Ù‡Ùˆ Ø§Ù„Ù…ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù†Ø¸Ø§Ù… Tap2Pay Ø¨Ø§Ù„ÙƒØ§Ù…Ù„. ÙŠØ¯ÙŠØ± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨ÙŠÙ† Ø¬Ù…ÙŠØ¹ Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©ØŒ ÙˆÙŠØ¹Ø§Ù„Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø²Ø±ØŒ ÙˆÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù‚Ø§Ø±Ø¦ NFCØŒ ÙˆÙŠØ­Ø¯Ø« Ø´Ø§Ø´Ø© OLEDØŒ ÙˆÙŠØ±Ø³Ù„ Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„ØªØ­ÙƒÙ… Ø¥Ù„Ù‰ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆ. ÙƒÙ…Ø§ ÙŠÙˆÙØ± Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆÙŠØ¶Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø£ÙƒÙ…Ù„Ù‡.',
                nfcTitle: 'Ù‚Ø§Ø±Ø¦ Ø¨Ø·Ø§Ù‚Ø© NFC',
                nfcDesc: 'ÙŠØªÙŠØ­ Ù‚Ø§Ø±Ø¦ NFC (Ø§Ù„Ø§ØªØµØ§Ù„ Ù‚Ø±ÙŠØ¨ Ø§Ù„Ù…Ø¯Ù‰) Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¨Ø¯ÙˆÙ† ØªÙ…Ø§Ø³. ÙŠÙ‚ÙˆÙ… Ø¨Ù…Ø³Ø­ Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„Ø© Ø¹Ù† Ù‚Ø±Ø¨ØŒ ÙˆÙŠÙƒØªØ´Ù ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©ØŒ ÙˆÙŠÙ‚Ø±Ø£ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¢Ù…Ù†Ø©ØŒ ÙˆÙŠØ±Ø³Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ù„Ù‰ Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ù„Ù„ØªØ­Ù‚Ù‚. Ù‡Ø°Ø§ Ù…Ø§ ÙŠØ¬Ø¹Ù„ Tap2Pay Ø­Ù‚Ø§Ù‹ \"Ø§Ø¶ØºØ· ÙˆØ§Ù†Ø·Ù„Ù‚\".',
                servoTitle: 'Ù…Ø­Ø±Ùƒ Ø³ÙŠØ±ÙÙˆ',
                servoDesc: 'ÙŠÙ‚ÙˆÙ… Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆ Ø¨ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¯ÙØ¹ ÙØ¹Ù„ÙŠØ§Ù‹. Ø¹Ù†Ø¯ Ø§ÙƒØªØ´Ø§Ù Ø¯ÙØ¹Ø© Ù†Ø§Ø¬Ø­Ø©ØŒ ÙŠØ£Ù…Ø± Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ø§Ù„Ø³ÙŠØ±ÙÙˆ Ø¨Ø§Ù„Ø¯ÙˆØ±Ø§Ù† 90 Ø¯Ø±Ø¬Ø© (ÙØªØ­ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©). Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ù…Ø­Ø¯Ø¯ØŒ ÙŠØ¹ÙˆØ¯ Ø§Ù„Ø³ÙŠØ±ÙÙˆ Ø¥Ù„Ù‰ ÙˆØ¶Ø¹Ù‡ Ø§Ù„Ø£ØµÙ„ÙŠØŒ Ù…ØºÙ„Ù‚Ø§Ù‹ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø­ØªÙ‰ Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©.',
                oledTitle: 'Ø´Ø§Ø´Ø© OLED',
                oledDesc: 'ØªÙˆÙØ± Ø´Ø§Ø´Ø© OLED ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨ØµØ±ÙŠØ© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…. ØªØ¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ù…Ø«Ù„ \"Ø§Ø¶ØºØ· Ø¨Ø·Ø§Ù‚ØªÙƒ\" Ùˆ\"Ø§Ù„Ø¯ÙØ¹ Ù†Ø§Ø¬Ø­\" Ùˆ\"ØªÙ… Ù…Ù†Ø­ Ø§Ù„ÙˆØµÙˆÙ„\" (Ø£Ùˆ Ø±ÙØ¶Ù‡). ØªØ³Ø§Ø¹Ø¯ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¹Ù„Ù‰ ÙÙ‡Ù… Ù…Ø§ ÙŠÙØ¹Ù„Ù‡ Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ ÙƒÙ„ Ø®Ø·ÙˆØ©.',
                buttonTitle: 'Ø²Ø± Ø¶ØºØ·',
                buttonDesc: 'ÙŠÙˆÙØ± Ø²Ø± Ø§Ù„Ø¶ØºØ· ØªØ­ÙƒÙ…Ø§Ù‹ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªØ¬Ø§ÙˆØ². ÙŠÙ…ÙƒÙ†Ù‡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹ØŒ ÙˆØ§Ø®ØªØ¨Ø§Ø± Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…ØŒ ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø©. Ø¥Ù†Ù‡ Ù…ÙÙŠØ¯ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠØ©ØŒ ÙˆÙ„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„.',
                breadboardTitle: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªÙˆØµÙŠÙ„',
                breadboardDesc: 'Ù„ÙˆØ­Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ù‡ÙŠ Ø§Ù„Ù…ÙƒØ§Ù† Ø§Ù„Ø°ÙŠ ÙŠØªÙ… ÙÙŠÙ‡ ØªÙˆØµÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ÙØ¹Ù„ÙŠØ§Ù‹. ØªØ¹Ù…Ù„ ÙƒÙ…Ø­ÙˆØ± Ù…Ø±ÙƒØ²ÙŠ ÙŠØ±Ø¨Ø· Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ ÙˆÙ‚Ø§Ø±Ø¦ NFC ÙˆÙ…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆ ÙˆOLED ÙˆØ§Ù„Ø²Ø± ÙˆÙ‚Ø¶Ø¨Ø§Ù† Ø§Ù„Ø·Ø§Ù‚Ø©. ØªØ¬Ø¹Ù„ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ø£Ø³Ù‡Ù„ Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ù„Ø­Ø§Ù… Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù….',
                step1: 'ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…',
                step1Desc: 'Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ØŒ ÙŠÙ‚ÙˆÙ… Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ø¨ØªÙ‡ÙŠØ¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…ØªØµÙ„Ø© (Ù‚Ø§Ø±Ø¦ NFCØŒ Ø´Ø§Ø´Ø© OLEDØŒ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆ). ØªØ¹Ø±Ø¶ OLED Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ Ø£Ùˆ Ø­Ø§Ù„Ø© \"Ø¬Ø§Ù‡Ø²\".',
                step2: 'Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©',
                step2Desc: 'ÙŠØ¯Ø®Ù„ Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø§Ø³ØªØ¹Ø¯Ø§Ø¯. ÙŠØ³ØªÙ…Ø¹ Ù‚Ø§Ø±Ø¦ NFC Ø¨Ù†Ø´Ø§Ø· Ù„Ø¨Ø·Ø§Ù‚Ø© Ø£Ùˆ Ø¬Ù‡Ø§Ø² Ù…Ø­Ù…ÙˆÙ„ Ù‚Ø±ÙŠØ¨. ØªØ·Ø§Ù„Ø¨ OLED Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… \"Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚ØªÙƒ\".',
                step3: 'Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙˆØ§Ù„ØªØ­Ù‚Ù‚',
                step3Desc: 'Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚Ø©ØŒ ÙŠÙ‚Ø±Ø£ Ù‚Ø§Ø±Ø¦ NFC Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙØ±ÙŠØ¯. ÙŠØªØ­Ù‚Ù‚ Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù…ØµØ±Ø­Ø© (Ù…Ø³Ø¬Ù„Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø£Ùˆ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª). ØªØ­Ø¯Ø« OLED Ù„Ø¥Ø¸Ù‡Ø§Ø± \"Ø¬Ø§Ø±Ù Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...\"',
                step4: 'ÙØªØ­ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©',
                step4Desc: 'Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù…ØµØ±Ø­Ø©ØŒ ØªØ¸Ù‡Ø± OLED \"ØªÙ… Ù…Ù†Ø­ Ø§Ù„ÙˆØµÙˆÙ„\". ÙŠØ±Ø³Ù„ Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ø¥Ø´Ø§Ø±Ø© Ø¥Ù„Ù‰ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆØŒ Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙˆØ± Ù„ÙØªØ­ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ÙØ¹Ù„ÙŠØ© (Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„).',
                step5: 'Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹',
                step5Desc: 'Ø¨Ø¹Ø¯ Ø¨Ø¶Ø¹ Ø«ÙˆØ§Ù†Ù (ØªØ£Ø®ÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„)ØŒ ÙŠØ´ÙŠØ± Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙÙˆ Ù„Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ ÙˆØ¶Ø¹Ù‡ Ø§Ù„Ø£ØµÙ„ÙŠØŒ Ù…ØºÙ„Ù‚Ø§Ù‹ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©. ÙŠØ¹ÙŠØ¯ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹ÙŠÙŠÙ† ÙˆÙŠÙ†ØªØ¸Ø± Ø§Ù„Ø¶ØºØ·Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©.',
                feature1: 'Ø§Ù„Ø¯ÙØ¹ Ø¨Ø¯ÙˆÙ† ØªÙ…Ø§Ø³',
                feature1Desc: 'Ø§Ø¯ÙØ¹ Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø¨Ø·Ø§Ù‚ØªÙƒ Ø£Ùˆ Ù‡Ø§ØªÙÙƒ Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…Ù…ÙƒÙ‘Ù† Ù„Ù€ NFC - Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ù„Ø³Ø­Ø¨ Ø£Ùˆ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„.',
                feature2: 'Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¢Ù„ÙŠ ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„',
                feature2Desc: 'ÙŠÙØªØ­ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆ Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¯ÙØ¹ØŒ Ø«Ù… ÙŠØºÙ„Ù‚ Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ù…Ø­Ø¯Ø¯.',
                feature3: 'ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨ØµØ±ÙŠØ© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ',
                feature3Desc: 'ØªØ¹Ø±Ø¶ Ø´Ø§Ø´Ø© OLED ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ø«Ù„ \"Ø§Ø¶ØºØ· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©\" Ùˆ\"Ø¬Ø§Ø±Ù Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©\" Ùˆ\"ØªÙ… Ù…Ù†Ø­ Ø§Ù„ÙˆØµÙˆÙ„\" Ø£Ùˆ \"Ù…Ø±ÙÙˆØ¶\".',
                feature4: 'Ø²Ø± Ø§Ù„ØªØ¬Ø§ÙˆØ² Ø§Ù„ÙŠØ¯ÙˆÙŠ',
                feature4Desc: 'ÙŠØ³Ù…Ø­ Ø²Ø± Ø§Ù„Ø¶ØºØ· Ø¨Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙŠØ¯ÙˆÙŠ ÙˆØ§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ø£Ùˆ Ù„Ø£ØºØ±Ø§Ø¶ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡.',
                feature5: 'Ù†Ø¸Ø§Ù… Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙˆØ³Ø¹',
                feature5Desc: 'ÙŠØ³Ù…Ø­ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø¹ÙŠØ§Ø±ÙŠ Ø¨Ø¥Ø¶Ø§ÙØ© Ø³Ù‡Ù„Ø© Ù„ØªØ³Ø¬ÙŠÙ„ Wi-FiØŒ Ø£Ùˆ ØªÙƒØ§Ù…Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŒ Ø£Ùˆ Ù‚Ø±Ø§Ø¡ Ù…ØªØ¹Ø¯Ø¯Ø©ØŒ Ø£Ùˆ Ø§ØªØµØ§Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.',
                feature6: 'Ù…Ù†Ø®ÙØ¶ Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØµØ¯ÙŠÙ‚ Ù„Ù„Ù‡ÙˆØ§Ø©',
                feature6Desc: 'ØªÙ… Ø¨Ù†Ø§Ø¤Ù‡ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒÙˆÙ†Ø§Øª Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ù…ÙŠØ³ÙˆØ±Ø© Ø§Ù„ØªÙƒÙ„ÙØ© ÙˆØµØ¯ÙŠÙ‚Ø© Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† - Ù…Ø«Ø§Ù„ÙŠ Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù„ÙˆÙ… Ø£Ùˆ ØªØ¹Ù„Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª.',
                aboutText1: 'Tap2Pay Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ù„Ù„Ø¯ÙØ¹ ÙˆØ§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ø¨Ø¯ÙˆÙ† ØªÙ…Ø§Ø³ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ ÙˆØµÙ…Ù…Ù‡ Ø§Ù„Ø·Ù„Ø§Ø¨ Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¹Ø±Ø¶ Ø¹Ù„Ù…ÙŠ. ÙŠÙˆØ¶Ø­ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªÙ‚Ù†ÙŠØ© NFC Ù„Ø¥Ù†Ø´Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆØ§Ù‚Ø¹ÙŠØ© Ù…Ø«Ù„ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¢Ù„ÙŠØ© Ø£Ùˆ Ø¨ÙˆØ§Ø¨Ø§Øª Ù…ÙˆØ§Ù‚Ù Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø£Ùˆ Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù…Ù†Ø©.',
                aboutText2: 'ÙŠØ¬Ù…Ø¹ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© (Ø£Ø±Ø¯ÙˆÙŠÙ†ÙˆØŒ Ù‚Ø§Ø±Ø¦ NFCØŒ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø³ÙŠØ±ÙÙˆØŒ Ø´Ø§Ø´Ø© OLED) ÙˆÙ…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø£ÙˆÙ„ÙŠ ÙˆØ¸ÙŠÙÙŠ. Ø¥Ù†Ù‡ Ù…Ø«Ø§Ù„ Ø±Ø§Ø¦Ø¹ Ø¹Ù„Ù‰ Ù…Ø¨Ø§Ø¯Ø¦ Ø¥Ù†ØªØ±Ù†Øª Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ (IoT)ØŒ ÙˆØ¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù…Ø¯Ù…Ø¬Ø©ØŒ ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©.',
                projectBy: 'Â© 2024 Tap2Pay - Ù…Ø´Ø±ÙˆØ¹ Ø£Ø±Ø¯ÙˆÙŠÙ†Ùˆ Ù…Ù† Ù‚Ø¨Ù„ Ø²ÙŠØ§Ø¯ ÙˆØ²Ù‡ÙŠØ± ÙˆØ¨Ø±Ø§Ø¡',
                noComments: 'Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨Ø¹Ø¯. ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠØ´Ø§Ø±Ùƒ Ø£ÙÙƒØ§Ø±Ù‡!',
                commentTitle: 'Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªØ¹Ù„ÙŠÙ‚',
                commentText: 'ØªØ¹Ù„ÙŠÙ‚Ùƒ...',
                submitComment: 'Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚',
                reply: 'Ø±Ø¯',
                postReply: 'Ù†Ø´Ø± Ø§Ù„Ø±Ø¯',
                deleteBtn: 'Ø­Ø°Ù',
                approveBtn: 'Ù…ÙˆØ§ÙÙ‚Ø©',
                declineBtn: 'Ø±ÙØ¶',
                pendingStatus: 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
                approvedStatus: 'Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡',
                rejectedStatus: 'Ù…Ø±ÙÙˆØ¶',
                noPendingSubmissions: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚ØªØ±Ø­Ø§Øª Ù…Ø¹Ù„Ù‚Ø©',
                noSubmissions: 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚ØªØ±Ø­Ø§Øª Ø¨Ø¹Ø¯',
                firebaseNotConfigured: 'Ù„Ù… ÙŠØªÙ… ØªÙƒÙˆÙŠÙ† Firebase. Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù…Ø¹Ø·Ù„Ø©.',
                logout: 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬'
            }
        };

        function t(key) {
            return translations[currentLang][key] || key;
        }

        function applyLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('lang', lang);
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            
            const langToggle = document.getElementById('langToggle');
            if (langToggle) {
                langToggle.textContent = lang === 'en' ? 'AR' : 'EN';
            }
            
            updateTranslations();
        }

        function updateTranslations() {
            // Generic translator for all elements with data-en and data-ar attributes
            const allTranslatableElements = document.querySelectorAll('[data-en][data-ar]');
            allTranslatableElements.forEach(element => {
                if (currentLang === 'en') {
                    element.textContent = element.getAttribute('data-en');
                } else {
                    element.textContent = element.getAttribute('data-ar');
                }
            });
            
            // Auth screen
            const authSubtitle = document.querySelector('.auth-subtitle');
            if (authSubtitle) authSubtitle.textContent = t('authSubtitle');
            
            const selectRole = document.querySelector('#authRole option[value=\"\"]');
            if (selectRole) selectRole.textContent = t('selectRole');
            
            const roleOptions = document.querySelectorAll('#authRole option[value]');
            if (roleOptions[1]) roleOptions[1].textContent = t('roleAdmin');
            if (roleOptions[2]) roleOptions[2].textContent = t('roleTeam');
            if (roleOptions[3]) roleOptions[3].textContent = t('roleVisitor');
            
            const authName = document.getElementById('authName');
            if (authName) authName.placeholder = t('yourName');
            
            const authPassword = document.getElementById('authPassword');
            if (authPassword) authPassword.placeholder = t('password');
            
            const authSubmitBtn = document.getElementById('authSubmitBtn');
            if (authSubmitBtn) authSubmitBtn.textContent = t('signIn');
            
            // Main content
            const subtitle = document.querySelector('.subtitle');
            if (subtitle) subtitle.textContent = t('subtitle');
            
            const sectionTitles = document.querySelectorAll('.section-title');
            if (sectionTitles[0]) sectionTitles[0].textContent = t('mainComponents');
            if (sectionTitles[1]) sectionTitles[1].textContent = t('howItWorks');
            if (sectionTitles[2]) sectionTitles[2].textContent = t('keyFeatures');
            if (sectionTitles[3]) sectionTitles[3].textContent = t('aboutProject');
            if (sectionTitles[4]) sectionTitles[4].textContent = t('teamUpdates');
            if (sectionTitles[5]) sectionTitles[5].textContent = t('adminPanel');
            
            const componentTitles = document.querySelectorAll('.component-title');
            if (componentTitles[0]) componentTitles[0].textContent = t('arduinoTitle');
            if (componentTitles[1]) componentTitles[1].textContent = t('nfcTitle');
            if (componentTitles[2]) componentTitles[2].textContent = t('servoTitle');
            if (componentTitles[3]) componentTitles[3].textContent = t('oledTitle');
            if (componentTitles[4]) componentTitles[4].textContent = t('buttonTitle');
            if (componentTitles[5]) componentTitles[5].textContent = t('breadboardTitle');
            
            const componentDescs = document.querySelectorAll('.component-description');
            if (componentDescs[0]) componentDescs[0].textContent = t('arduinoDesc');
            if (componentDescs[1]) componentDescs[1].textContent = t('nfcDesc');
            if (componentDescs[2]) componentDescs[2].textContent = t('servoDesc');
            if (componentDescs[3]) componentDescs[3].textContent = t('oledDesc');
            if (componentDescs[4]) componentDescs[4].textContent = t('buttonDesc');
            if (componentDescs[5]) componentDescs[5].textContent = t('breadboardDesc');
            
            const stepTitles = document.querySelectorAll('.step-title');
            if (stepTitles[0]) stepTitles[0].textContent = t('step1');
            if (stepTitles[1]) stepTitles[1].textContent = t('step2');
            if (stepTitles[2]) stepTitles[2].textContent = t('step3');
            if (stepTitles[3]) stepTitles[3].textContent = t('step4');
            if (stepTitles[4]) stepTitles[4].textContent = t('step5');
            
            const aboutParas = document.querySelectorAll('.about-section p');
            if (aboutParas[0]) aboutParas[0].textContent = t('aboutText1');
            if (aboutParas[1]) aboutParas[1].textContent = t('aboutText2');
            
            const footer = document.querySelector('.footer');
            if (footer) footer.textContent = t('projectBy');
            
            const titleInput = document.getElementById('feedbackTitle');
            if (titleInput) titleInput.placeholder = t('commentTitle');
            
            const textArea = document.getElementById('feedbackText');
            if (textArea) textArea.placeholder = t('commentText');
            
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) logoutBtn.textContent = t('logout');
            
            if (typeof loadComments === 'function') {
                loadComments();
            }
            if (typeof loadPendingSubmissions === 'function') {
                loadPendingSubmissions();
            }
        }

        // ==================== SMOOTH SCROLL & PAGE LOAD EFFECTS ==================== //
        // Ensure smooth animations on page load
        window.addEventListener('load', function() {
            // Animation triggers are handled by CSS
            console.log('Tap2Pay website loaded successfully!');
            checkStoredLogin();
            initFeedbackSystem();
            
            // Apply saved language or default to English
            applyLanguage(currentLang);
            
            // Language toggle button
            const langToggle = document.getElementById('langToggle');
            if (langToggle) {
                langToggle.addEventListener('click', function() {
                    const newLang = currentLang === 'en' ? 'ar' : 'en';
                    applyLanguage(newLang);
                });
            }
        });

        // ==================== PREVENT SCROLLING INTERFERENCE ==================== //
        // Smooth scroll behavior for better UX
        document.documentElement.style.scrollBehavior = 'smooth';

        // ==================== FIREBASE CONFIGURATION ==================== //
        const firebaseConfig = {
            apiKey: "AIzaSyC6yVkSQT4gn47YIo5UAJzgVEGlfHaFsTE",
            authDomain: "tap2pay-c4bae.firebaseapp.com",
            projectId: "tap2pay-c4bae",
            storageBucket: "tap2pay-c4bae.firebasestorage.app",
            messagingSenderId: "843180266943",
            appId: "1:843180266943:web:03d4fec1918a3180247d0a",
            measurementId: "G-5CZ7BPWXN5",
            databaseURL: "https://tap2pay-c4bae-default-rtdb.firebaseio.com"
        };

        // Initialize Firebase (if available)
        let database = null;
        let auth = null;
        let currentAdminUser = null;
        let currentUserRole = null;
        let currentUserName = '';
        let isLoadingComments = false; // Prevent duplicate loads
        let feedbackSystemInitialized = false; // Prevent multiple initialization

        // Role passwords
        const ROLE_PASSWORDS = {
            'Admin': 'boba3213',
            'Team': 'zzbOnTop',
            'Visitor': 'visitors'
        };

        // Check if user is already logged in from localStorage
        function checkStoredLogin() {
            const storedRole = localStorage.getItem('userRole');
            const storedName = localStorage.getItem('userName');
            
            if (storedRole && storedName) {
                currentUserRole = storedRole;
                currentUserName = storedName;
                loginUser(storedRole, storedName);
            }
        }

        // Initialize Firebase if script is loaded
        if (typeof firebase !== 'undefined') {
            firebase.initializeApp(firebaseConfig);
            database = firebase.database();
            auth = firebase.auth();
        }

        // ==================== AUTHENTICATION SYSTEM ==================== //
        const authScreen = document.getElementById('authScreen');
        const authForm = document.getElementById('authForm');
        const authRole = document.getElementById('authRole');
        const authName = document.getElementById('authName');
        const authPassword = document.getElementById('authPassword');
        const authSubmitBtn = document.getElementById('authSubmitBtn');
        const authError = document.getElementById('authError');
        const mainContent = document.getElementById('mainContent');
        const userInfo = document.getElementById('userInfo');
        const userRoleSpan = document.getElementById('userRole');
        const userAccessSpan = document.getElementById('userAccess');
        const logoutBtn = document.getElementById('logoutBtn');

        // Handle authentication form
        authForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const role = authRole.value;
            const name = authName.value.trim();
            const password = authPassword.value.trim();

            if (!role) {
                showAuthError('Please select a role');
                return;
            }

            if (!name) {
                showAuthError('Please enter your name');
                return;
            }

            if (!password) {
                showAuthError('Please enter the password');
                return;
            }

            // Check if password matches the selected role
            if (password === ROLE_PASSWORDS[role]) {
                loginUser(role, name);
                // Clear form
                authRole.value = '';
                authName.value = '';
                authPassword.value = '';
            } else {
                showAuthError('Incorrect password for ' + role);
            }
        });

        function showAuthError(message) {
            authError.textContent = 'âœ• ' + message;
            authError.classList.add('show');
        }

        function loginUser(role, name) {
            currentUserRole = role;
            currentUserName = name;
            
            // Save to localStorage for persistence
            localStorage.setItem('userRole', role);
            localStorage.setItem('userName', name);
            
            // Determine access level
            let roleDisplay = role;
            let accessDisplay = '';
            
            if (role === 'Admin') {
                accessDisplay = 'Admin Access';
            } else if (role === 'Team') {
                accessDisplay = 'Full Access';
            } else {
                accessDisplay = 'Limited Access';
            }

            // Show user info with name
            userRoleSpan.textContent = name + ' (' + roleDisplay + ')';
            userAccessSpan.textContent = accessDisplay;
            userInfo.classList.add('show');

            // Show main content
            authScreen.classList.add('hidden');
            mainContent.classList.add('visible');

            // Show/hide sections based on role
            updateContentVisibility();

            // Initialize feedback system
            initFeedbackSystem();
        }

        function updateContentVisibility() {
            // Get all text elements
            const componentDescriptions = document.querySelectorAll('.component-description');
            const stepTexts = document.querySelectorAll('.step-text');
            const featureTexts = document.querySelectorAll('.feature-text');

            if (currentUserRole === 'Visitor') {
                // Wrap text and add blur + label
                const wrapAndBlur = (element) => {
                    if (!element.querySelector('.text-wrapper')) {
                        const wrapper = document.createElement('div');
                        wrapper.className = 'text-wrapper';
                        
                        const content = document.createElement('span');
                        content.className = 'blurred-text';
                        content.textContent = element.textContent;
                        
                        const label = document.createElement('span');
                        label.className = 'restricted-label';
                        label.textContent = 'ðŸ”’ Restricted';
                        
                        wrapper.appendChild(content);
                        wrapper.appendChild(label);
                        
                        element.textContent = '';
                        element.appendChild(wrapper);
                    }
                };
                
                componentDescriptions.forEach(wrapAndBlur);
                stepTexts.forEach(wrapAndBlur);
                featureTexts.forEach(wrapAndBlur);
            } else {
                // Remove wrappers and restore original text
                const unwrap = (element) => {
                    const wrapper = element.querySelector('.text-wrapper');
                    if (wrapper) {
                        const blurredText = wrapper.querySelector('.blurred-text');
                        if (blurredText) {
                            element.textContent = blurredText.textContent;
                        }
                    }
                };
                
                componentDescriptions.forEach(unwrap);
                stepTexts.forEach(unwrap);
                featureTexts.forEach(unwrap);
            }
        }

        // Logout
        logoutBtn.addEventListener('click', () => {
            currentUserName = '';
            currentUserRole = null;
            // Clear localStorage
            localStorage.removeItem('userRole');
            localStorage.removeItem('userName');
            authRole.value = '';
            authName.value = '';
            authPassword.value = '';
            authScreen.classList.remove('hidden');
            mainContent.classList.remove('visible');
            userInfo.classList.remove('show');
        });

        // ==================== FEEDBACK SYSTEM ==================== //
        function initFeedbackSystem() {
            if (feedbackSystemInitialized) return; // Prevent duplicate initialization
            feedbackSystemInitialized = true;
            const feedbackBtn = document.getElementById('feedbackBtn');
            const feedbackModal = document.getElementById('feedbackModal');
            const closeModal = document.getElementById('closeModal');
            const feedbackForm = document.getElementById('feedbackForm');
            const submitBtn = document.getElementById('submitBtn');
            const errorMsg = document.getElementById('errorMessage');
            const successMsg = document.getElementById('successMessage');

            // Open modal
            feedbackBtn.addEventListener('click', () => {
                feedbackModal.classList.add('active');
                // Remove all listeners before loading
                firebase.database().ref('suggestions').off();
                loadComments();
                checkAdminStatus();
            });

            // Close modal
            closeModal.addEventListener('click', () => {
                feedbackModal.classList.remove('active');
            });

            // Close on overlay click
            feedbackModal.addEventListener('click', (e) => {
                if (e.target === feedbackModal) {
                    feedbackModal.classList.remove('active');
                }
            });

            // Submit form
            feedbackForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                await submitFeedback();
            });

            // Greeting detection for suggestion text input
            const suggestionTextInput = document.getElementById('suggestionText');
            const greetingMessage = document.getElementById('greetingMessage');
            const GREETING_PATTERNS = ['hello', 'hi', 'hey', 'greetings', 'good morning', 'good afternoon', 'good evening'];
            const MAX_GREETING_LENGTH = 50;
            const GREETING_AUTO_HIDE_MS = 5000;
            let greetingTimeout;

            suggestionTextInput.addEventListener('input', (e) => {
                const text = e.target.value.trim().toLowerCase();
                
                // Check if the text matches any greeting pattern
                // Supports greetings with common punctuation (space, comma, exclamation, question, period)
                const isGreeting = GREETING_PATTERNS.some(pattern => {
                    return text === pattern || 
                           text.startsWith(pattern + ' ') || 
                           text.startsWith(pattern + ',') ||
                           text.startsWith(pattern + '!') ||
                           text.startsWith(pattern + '?') ||
                           text.startsWith(pattern + '.');
                });

                if (isGreeting && text.length < MAX_GREETING_LENGTH) {
                    // Clear previous timeout if exists
                    if (greetingTimeout) {
                        clearTimeout(greetingTimeout);
                    }
                    
                    // Show greeting message
                    greetingMessage.classList.add('show');
                    
                    // Auto-hide after configured time
                    greetingTimeout = setTimeout(() => {
                        greetingMessage.classList.remove('show');
                    }, GREETING_AUTO_HIDE_MS);
                } else {
                    // Hide greeting message immediately
                    greetingMessage.classList.remove('show');
                    
                    // Clear any pending timeout
                    if (greetingTimeout) {
                        clearTimeout(greetingTimeout);
                        greetingTimeout = null;
                    }
                }
            });

            // Admin login modal
            const adminLoginModal = document.getElementById('adminLoginModal');
            const adminLoginSubmit = document.getElementById('adminLoginSubmit');
            const adminLoginCancel = document.getElementById('adminLoginCancel');
            const roleSelect = document.getElementById('roleSelect');
            const userName = document.getElementById('userName');

            // Cancel login
            adminLoginCancel.addEventListener('click', () => {
                adminLoginModal.classList.remove('active');
            });

            // Close modal on overlay click
            adminLoginModal.addEventListener('click', (e) => {
                if (e.target === adminLoginModal) {
                    adminLoginModal.classList.remove('active');
                }
            });

            // Submit login
            adminLoginSubmit.addEventListener('click', async () => {
                const roleSelect = document.getElementById('roleSelect');
                const userName = document.getElementById('userName');
                const role = roleSelect.value;
                const name = userName.value.trim();
                const password = adminPassword.value.trim();
                
                if (!role) {
                    alert('Please select a role');
                    return;
                }
                
                if (!name) {
                    alert('Please enter your name');
                    return;
                }
                
                if (!password) {
                    alert('Please enter the password');
                    return;
                }

                // Check if password matches the selected role
                if (password === ROLE_PASSWORDS[role]) {
                    alert('âœ“ Login successful!');
                    adminLoginModal.classList.remove('active');
                    loginUser(role, name);
                    if (role === 'Admin') {
                        checkAdminStatus();
                    }
                    // Clear form
                    roleSelect.value = '';
                    userName.value = '';
                    adminPassword.value = '';
                } else {
                    alert('âœ• Incorrect password for ' + role);
                }
            });

            // Enter key to submit login
            adminPassword.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    adminLoginSubmit.click();
                }
            });

            // Load initial comments and pending count
            loadPendingCount();
        }

        // Submit feedback to Realtime Database
        async function submitFeedback() {
            const submitBtn = document.getElementById('submitBtn');
            const spinner = document.getElementById('spinner');
            const errorMsg = document.getElementById('errorMessage');
            const successMsg = document.getElementById('successMessage');
            const form = document.getElementById('feedbackForm');

            const title = document.getElementById('suggestionTitle').value.trim();
            const text = document.getElementById('suggestionText').value.trim();

            if (!title || !text) {
                showError('Please fill in all fields');
                return;
            }

            submitBtn.disabled = true;
            spinner.style.display = 'inline-block';
            errorMsg.classList.remove('show');
            successMsg.classList.remove('show');

            try {
                if (!database) {
                    commentsList.innerHTML = '<div class="no-comments">Firebase not configured</div>';
                    const newRef = firebase.database().ref('suggestions').push();
                    await newRef.set({
                        title: title,
                        text: text,
                        userName: currentUserName,
                        status: 'pending',
                        timestamp: firebase.database.ServerValue.TIMESTAMP,
                        ip: 'anonymous'
                    });

                    // Show success
                    successMsg.classList.add('show');
                    form.reset();

                    // Reload comments and pending count
                    setTimeout(() => {
                        loadComments();
                        loadPendingCount();
                        successMsg.classList.remove('show');
                    }, 2000);
                } else {
                    // Demo mode - no Firebase
                    showError('Firebase not configured. Setup required.');
                }
            } catch (error) {
                console.error('Error submitting feedback:', error);
                showError('Failed to submit. Please try again.');
            } finally {
                submitBtn.disabled = false;
                spinner.style.display = 'none';
            }
        }

        // Load all comments from Realtime Database (with status badges)
        function loadComments() {
            const commentsList = document.getElementById('commentsList');

            if (!database || isLoadingComments) {
                return;
            }

            isLoadingComments = true;

            // Use .once() to load data once without persistent listener
            firebase.database().ref('suggestions').orderByChild('timestamp').once('value', (snapshot) => {
                if (!snapshot.exists()) {
                    commentsList.innerHTML = '<div class="no-comments">No submissions yet.</div>';
                    return;
                }

                const comments = [];
                snapshot.forEach((childSnapshot) => {
                    const data = childSnapshot.val();
                    comments.push({
                        id: childSnapshot.key,
                        ...data
                    });
                });

                if (comments.length === 0) {
                    commentsList.innerHTML = '<div class="no-comments">No submissions yet.</div>';
                    return;
                }

                // Sort by timestamp descending
                comments.sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));

                commentsList.innerHTML = '';
                comments.forEach((comment, index) => {
                    const date = comment.timestamp 
                        ? new Date(comment.timestamp).toLocaleDateString() 
                        : 'Unknown';
                    
                    // Status badge
                    let statusBadge = '';
                    let cardStyle = '';
                    if (comment.status === 'approved') {
                        statusBadge = '<span style="background: #28a745; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold;">âœ“ APPROVED</span>';
                    } else if (comment.status === 'rejected') {
                        statusBadge = '<span style="background: #dc3545; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold;">âœ• DECLINED</span>';
                        cardStyle = 'opacity: 0.6; border-left: 3px solid #dc3545;';
                    } else if (comment.status === 'pending') {
                        statusBadge = '<span style="background: #ffc107; color: #000; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold;">â³ PENDING</span>';
                        cardStyle = 'border-left: 3px solid #ffc107;';
                    }

                    const deleteBtn = currentUserRole === 'Admin' 
                        ? `<button class="decline-btn" style="padding: 4px 8px; font-size: 0.75rem; margin-left: auto;" onclick="deleteComment('${comment.id}')">ðŸ—‘ï¸ Delete</button>` 
                        : '';

                    const repliesArray = comment.replies
                        ? Object.values(comment.replies).sort((a, b) => (a.timestamp || 0) - (b.timestamp || 0))
                        : [];

                    const repliesHtml = repliesArray.length
                        ? repliesArray.map(reply => `
                            <div style="margin-top: 6px; padding-left: 10px; border-left: 2px solid rgba(255, 59, 59, 0.3);">
                                <div style="font-size: 0.85rem; color: #ddd;">${escapeHtml(reply.text)}</div>
                                <div style="font-size: 0.75rem; color: #999; margin-top: 2px;">ðŸ‘¤ <strong>${escapeHtml(reply.userName || 'Anonymous')}</strong> â€¢ ${reply.timestamp ? new Date(reply.timestamp).toLocaleDateString() : 'Unknown'}</div>
                            </div>
                        `).join('')
                        : '<div style="font-size: 0.8rem; color: #777; margin-top: 6px;">No replies yet.</div>';

                    const html = `
                        <div class="comment-card" style="animation-delay: ${index * 0.1}s; ${cardStyle}">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <strong style="color: var(--primary-red);">${escapeHtml(comment.title)}</strong>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    ${statusBadge}
                                    ${deleteBtn}
                                </div>
                            </div>
                            <div class="comment-text">${escapeHtml(comment.text)}</div>
                            <div style="font-size: 0.85rem; color: #999; margin-top: 6px;">ðŸ‘¤ <strong>${escapeHtml(comment.userName || 'Anonymous')}</strong></div>
                            <div class="comment-date">ðŸ“… ${date}</div>
                            <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                                <div style="font-size: 0.85rem; font-weight: 600; margin-bottom: 6px; color: #ccc;">Replies</div>
                                <div>${repliesHtml}</div>
                                <div style="display: flex; gap: 8px; margin-top: 10px;">
                                    <input type="text" id="reply-${comment.id}" class="auth-input" placeholder="Write a reply..." style="flex: 1; padding: 8px 10px; font-size: 0.85rem;" />
                                    <button class="submit-btn" style="padding: 8px 12px; font-size: 0.75rem;" onclick="submitReply('${comment.id}')">Reply</button>
                                </div>
                            </div>
                        </div>
                    `;
                    commentsList.innerHTML += html;
                });
                isLoadingComments = false;
            });
        }

        // Load pending count from Realtime Database
        function loadPendingCount() {
            const badgeCount = document.getElementById('badgeCount');

            if (!database) {
                badgeCount.style.display = 'none';
                return;
            }

            // Use .once() to load data once without persistent listener
            firebase.database().ref('suggestions').once('value', (snapshot) => {
                if (!snapshot.exists()) {
                    badgeCount.style.display = 'none';
                    return;
                }

                let count = 0;
                snapshot.forEach((childSnapshot) => {
                    const data = childSnapshot.val();
                    if (data.status === 'pending') {
                        count++;
                    }
                });

                if (count > 0) {
                    badgeCount.textContent = count;
                    badgeCount.style.display = 'flex';
                } else {
                    badgeCount.style.display = 'none';
                }
            });
        }

        // Check admin status
        function checkAdminStatus() {
            const adminPanel = document.getElementById('adminPanel');

            if (currentUserRole === 'Admin') {
                adminPanel.classList.add('active');
                loadPendingSubmissions();

                document.getElementById('logoutAdmin').addEventListener('click', () => {
                    adminPanel.classList.remove('active');
                    location.reload();
                });
            } else {
                adminPanel.classList.remove('active');
            }
        }

        // Load pending submissions for admin from Realtime Database
        function loadPendingSubmissions() {
            const pendingContainer = document.getElementById('pendingSubmissions');

            if (!database || currentUserRole !== 'Admin') {
                return;
            }

            // Use .once() to load data once without persistent listener
            firebase.database().ref('suggestions').orderByChild('timestamp').once('value', (snapshot) => {
                if (!snapshot.exists()) {
                    pendingContainer.innerHTML = '<div class="no-comments">No pending submissions</div>';
                    return;
                }

                const pending = [];
                snapshot.forEach((childSnapshot) => {
                    const data = childSnapshot.val();
                    if (data.status === 'pending') {
                        pending.push({
                            id: childSnapshot.key,
                            ...data
                        });
                    }
                });

                pendingContainer.innerHTML = '';

                if (pending.length === 0) {
                    pendingContainer.innerHTML = '<div class="no-comments">No pending submissions</div>';
                    return;
                }

                // Sort by timestamp ascending (oldest first)
                pending.sort((a, b) => (a.timestamp || 0) - (b.timestamp || 0));

                pending.forEach((item) => {
                    const date = item.timestamp 
                        ? new Date(item.timestamp).toLocaleDateString() 
                        : 'Unknown';
                    const html = `
                        <div class="pending-item">
                            <strong style="color: var(--primary-red);">${escapeHtml(item.title)}</strong>
                            <div class="pending-text">${escapeHtml(item.text)}</div>
                            <div class="pending-meta">ðŸ“… ${date}</div>
                            <div class="admin-buttons">
                                <button class="approve-btn" onclick="approveSubmission('${item.id}')">âœ“ Approve</button>
                                <button class="decline-btn" onclick="declineSubmission('${item.id}')">âœ• Decline</button>
                            </div>
                        </div>
                    `;
                    pendingContainer.innerHTML += html;
                });
            });
        }

        // Approve submission in Realtime Database
        async function approveSubmission(docId) {
            if (!database || currentUserRole !== 'Admin') return;

            try {
                await firebase.database().ref(`suggestions/${docId}`).update({
                    status: 'approved'
                });
                loadComments();
                loadPendingCount();
            } catch (error) {
                console.error('Error approving submission:', error);
            }
        }

        // Decline submission in Realtime Database
        async function declineSubmission(docId) {
            if (!database || currentUserRole !== 'Admin') return;

            try {
                await firebase.database().ref(`suggestions/${docId}`).update({
                    status: 'rejected'
                });
                loadComments();
                loadPendingCount();
            } catch (error) {
                console.error('Error declining submission:', error);
            }
        }

        // Delete comment
        async function deleteComment(docId) {
            if (currentUserRole !== 'Admin') return;

            if (confirm('Are you sure you want to delete this comment?')) {
                try {
                    await firebase.database().ref(`suggestions/${docId}`).remove();
                    loadComments();
                } catch (error) {
                    console.error('Error deleting comment:', error);
                }
            }
        }

        // Submit reply
        async function submitReply(commentId) {
            if (!database) return;

            const input = document.getElementById(`reply-${commentId}`);
            if (!input) return;

            const text = input.value.trim();
            if (!text) return;

            const replyRef = firebase.database().ref(`suggestions/${commentId}/replies`).push();
            try {
                await replyRef.set({
                    text: text,
                    userName: currentUserName || 'Anonymous',
                    timestamp: firebase.database.ServerValue.TIMESTAMP
                });
                input.value = '';
                loadComments();
            } catch (error) {
                console.error('Error submitting reply:', error);
            }
        }

        // Show error message
        function showError(message) {
            const errorMsg = document.getElementById('errorMessage');
            errorMsg.textContent = 'âœ• ' + message;
            errorMsg.classList.add('show');
            setTimeout(() => {
                errorMsg.classList.remove('show');
            }, 4000);
        }

        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>

    <!-- Language Toggle Button -->
    <button class="lang-toggle" id="langToggle">AR</button>

</body>
</html>
