<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap2Pay - Arduino Science Fair Project</title>
    <link rel="icon" href="Create a futuristic .png" type="image/x-icon">
    
    <!-- Firebase SDK v8 (simpler for HTML files) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    
    <style>
        /* ==================== RESET & VARIABLES ==================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-red: #FF3B3B;
            --dark-gray: #1a1a1a;
            --light-gray: #f5f5f5;
            --white: #ffffff;
            --card-bg: #2a2a2a;
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            --shadow-light: 0 5px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --glow: 0 0 20px rgba(255, 59, 59, 0.5);
        }

        /* ==================== BODY & GLOBALS ==================== */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 50%, #0a0a0a 100%);
            color: var(--white);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ==================== CUSTOM SCROLLBAR ==================== */
        /* Webkit browsers (Chrome, Safari, Edge) */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: #0a0a0a;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #FF3B3B 0%, #ff6b6b 100%);
            border-radius: 10px;
            border: 2px solid #0a0a0a;
            transition: all 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #ff6b6b 0%, #FF3B3B 100%);
            box-shadow: 0 0 15px rgba(255, 59, 59, 0.5);
        }

        ::-webkit-scrollbar-thumb:active {
            background: #FF3B3B;
        }

        /* Firefox */
        * {
            scrollbar-width: thin;
            scrollbar-color: #FF3B3B #0a0a0a;
        }

        /* ==================== CONTAINER & LAYOUT ==================== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* ==================== HEADER SECTION ==================== */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 0.8s ease-out;
        }

        .title {
            font-size: 4rem;
            font-weight: 900;
            color: var(--primary-red);
            letter-spacing: 3px;
            margin-bottom: 10px;
            text-transform: uppercase;
            animation: fadeInDown 0.8s ease-out, float 3s ease-in-out infinite;
        }

        .subtitle {
            font-size: 1rem;
            font-style: italic;
            color: #aaa;
            letter-spacing: 1px;
            animation: fadeIn 1.2s ease-out 0.3s both;
        }

        /* ==================== MAIN LAYOUT ==================== */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 60px;
        }

        /* ==================== LEFT COLUMN - COMPONENTS ==================== */
        .components-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: slideInLeft 0.6s ease-out;
        }

        .component-card {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow-light);
            animation: slideInLeft 0.6s ease-out;
            animation-fill-mode: both;
        }

        .component-card:nth-child(1) { animation-delay: 0.1s; }
        .component-card:nth-child(2) { animation-delay: 0.2s; }
        .component-card:nth-child(3) { animation-delay: 0.3s; }
        .component-card:nth-child(4) { animation-delay: 0.4s; }
        .component-card:nth-child(5) { animation-delay: 0.5s; }

        .component-card:hover {
            border-color: var(--primary-red);
            box-shadow: var(--glow), var(--shadow);
            transform: translateY(-3px);
        }

        .component-card.expanded {
            background: linear-gradient(135deg, var(--primary-red) 0%, #cc2f2f 100%);
            box-shadow: var(--glow), var(--shadow);
        }

        .component-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .component-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--white);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .component-card.expanded .component-title {
            color: var(--white);
        }

        .arrow-icon {
            font-size: 1.5rem;
            transition: var(--transition);
            color: var(--primary-red);
        }

        .component-card:hover .arrow-icon {
            color: var(--white);
        }

        .component-card.expanded .arrow-icon {
            transform: rotate(180deg);
            color: var(--white);
        }

        .component-description {
            margin-top: 0;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, margin-top 0.5s ease-out;
            color: var(--light-gray);
            line-height: 1.6;
            opacity: 0;
        }

        .component-card.expanded .component-description {
            max-height: 300px;
            margin-top: 15px;
            opacity: 1;
            animation: slideDown 0.5s ease-out;
        }

        /* ==================== RIGHT COLUMN - HOW IT WORKS ==================== */
        .right-column {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .how-it-works {
            background: linear-gradient(135deg, var(--card-bg) 0%, #2a2a2a 100%);
            border-radius: 12px;
            padding: 30px;
            box-shadow: var(--shadow-light);
            border-left: 4px solid var(--primary-red);
            animation: slideInRight 0.6s ease-out;
            margin-top: 40px;
        }

        .how-it-works-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .steps-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .step {
            display: flex;
            gap: 15px;
            align-items: flex-start;
            padding: 15px;
            background: rgba(255, 59, 59, 0.05);
            border-radius: 8px;
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
        }

        .step:nth-child(1) { animation-delay: 0.5s; }
        .step:nth-child(2) { animation-delay: 0.6s; }
        .step:nth-child(3) { animation-delay: 0.7s; }
        .step:nth-child(4) { animation-delay: 0.8s; }
        .step:nth-child(5) { animation-delay: 0.9s; }

        .step:hover {
            background: rgba(255, 59, 59, 0.1);
            transform: translateX(5px);
        }

        .step-number {
            min-width: 35px;
            height: 35px;
            background: var(--primary-red);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--white);
            flex-shrink: 0;
        }

        .step-text {
            font-size: 0.95rem;
            line-height: 1.5;
            color: #ddd;
            padding-top: 2px;
        }

        /* ==================== KEY FEATURES ==================== */
        .key-features {
            background: linear-gradient(135deg, rgba(42, 42, 42, 0.8) 0%, rgba(26, 26, 26, 0.8) 100%);
            border-radius: 16px;
            padding: 50px 40px;
            box-shadow: var(--shadow);
            margin-top: 60px;
            animation: fadeInUp 0.8s ease-out 0.4s both;
            border: 1px solid rgba(255, 59, 59, 0.1);
        }

        .features-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .features-list {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
        }

        .feature-item {
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: flex-start;
            padding: 20px;
            border-radius: 8px;
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
            background: rgba(255, 59, 59, 0.05);
            border: 1px solid rgba(255, 59, 59, 0.2);
        }

        .feature-item:nth-child(1) { animation-delay: 0.5s; }
        .feature-item:nth-child(2) { animation-delay: 0.6s; }
        .feature-item:nth-child(3) { animation-delay: 0.7s; }
        .feature-item:nth-child(4) { animation-delay: 0.8s; }
        .feature-item:nth-child(5) { animation-delay: 0.9s; }

        .feature-item {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            text-align: center;
            padding: 25px 20px;
            border-radius: 12px;
            transition: var(--transition);
            animation: fadeInUp 0.6s ease-out;
            animation-fill-mode: both;
            background: linear-gradient(135deg, rgba(255, 59, 59, 0.08) 0%, rgba(255, 59, 59, 0.02) 100%);
            border: 1px solid rgba(255, 59, 59, 0.15);
        }

        .feature-item:hover {
            background: linear-gradient(135deg, rgba(255, 59, 59, 0.15) 0%, rgba(255, 59, 59, 0.08) 100%);
            transform: translateY(-5px);
            box-shadow: var(--glow), 0 10px 30px rgba(255, 59, 59, 0.2);
            border-color: var(--primary-red);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-red);
            min-width: auto;
            text-align: center;
        }

        .feature-text {
            font-size: 0.85rem;
            color: #bbb;
            line-height: 1.5;
        }

        .feature-title {
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 5px;
        }

        /* ==================== ANIMATIONS ==================== */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 59, 59, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(255, 59, 59, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(255, 59, 59, 0);
            }
        }

        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ==================== FEEDBACK BUTTON ==================== */
        .feedback-btn {
            position: fixed;
            bottom: 40px;
            right: 40px;
            background: linear-gradient(135deg, var(--primary-red) 0%, #cc2f2f 100%);
            color: var(--white);
            border: none;
            border-radius: 50px;
            padding: 16px 28px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
            animation: pulse 2s infinite, float 3s ease-in-out infinite;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
        }

        .feedback-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--glow), var(--shadow);
        }

        .feedback-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: #ffd700;
            color: var(--dark-gray);
            border-radius: 50%;
            min-width: 24px;
            height: 24px;
            font-size: 0.75rem;
            font-weight: 900;
            margin-left: 5px;
        }

        /* ==================== MODAL OVERLAY ==================== */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 200;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ==================== MODAL CONTENT ==================== */
        .modal-content {
            background: linear-gradient(135deg, var(--card-bg) 0%, #1f1f1f 100%);
            border-radius: 16px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: var(--shadow);
            animation: scaleIn 0.4s ease-out;
            border: 1px solid rgba(255, 59, 59, 0.2);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            border-bottom: 2px solid rgba(255, 59, 59, 0.3);
            padding-bottom: 15px;
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--primary-red);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--primary-red);
            font-size: 2rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 0;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            transform: rotate(90deg);
            color: var(--white);
        }

        /* ==================== FORM ELEMENTS ==================== */
        .feedback-form {
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-red);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-input,
        .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(255, 59, 59, 0.3);
            border-radius: 8px;
            background: rgba(255, 59, 59, 0.05);
            color: var(--white);
            font-family: inherit;
            font-size: 0.95rem;
            transition: var(--transition);
        }

        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 15px rgba(255, 59, 59, 0.3);
            background: rgba(255, 59, 59, 0.08);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
            font-family: 'Courier New', monospace;
        }

        .submit-btn {
            background: linear-gradient(135deg, var(--primary-red) 0%, #cc2f2f 100%);
            color: var(--white);
            border: none;
            border-radius: 8px;
            padding: 14px 30px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--glow), var(--shadow-light);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top-color: var(--white);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin-right: 8px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ==================== SUCCESS MESSAGE ==================== */
        .success-message {
            display: none;
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4caf50;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #4caf50;
            font-weight: 600;
            animation: slideUp 0.4s ease-out;
        }

        .success-message.show {
            display: block;
        }

        /* ==================== ERROR MESSAGE ==================== */
        .error-message {
            display: none;
            background: rgba(244, 67, 54, 0.2);
            border: 2px solid #f44336;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #f44336;
            font-weight: 600;
            animation: slideUp 0.4s ease-out;
        }

        .error-message.show {
            display: block;
        }

        /* ==================== COMMENTS SECTION ==================== */
        .comments-section {
            margin-top: 35px;
            padding-top: 25px;
            border-top: 2px solid rgba(255, 59, 59, 0.3);
        }

        .comments-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-red);
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .comments-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 300px;
            overflow-y: auto;
        }

        .comment-card {
            background: linear-gradient(135deg, rgba(255, 59, 59, 0.08) 0%, rgba(255, 59, 59, 0.02) 100%);
            border: 1px solid rgba(255, 59, 59, 0.2);
            border-radius: 8px;
            padding: 15px;
            animation: slideUp 0.5s ease-out;
            animation-fill-mode: both;
        }

        .comment-card:nth-child(1) { animation-delay: 0.1s; }
        .comment-card:nth-child(2) { animation-delay: 0.2s; }
        .comment-card:nth-child(3) { animation-delay: 0.3s; }

        .comment-text {
            color: #ddd;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .comment-date {
            font-size: 0.75rem;
            color: #888;
            font-style: italic;
        }

        .no-comments {
            text-align: center;
            color: #888;
            padding: 20px;
            font-style: italic;
        }

        /* ==================== ADMIN PANEL ==================== */
        .admin-panel {
            display: none;
            margin-top: 35px;
            padding-top: 25px;
            border-top: 2px solid rgba(255, 59, 59, 0.3);
        }

        .admin-panel.active {
            display: block;
        }

        .admin-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ffd700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .pending-item {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            animation: slideUp 0.5s ease-out;
        }

        .pending-text {
            color: #ddd;
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .pending-meta {
            font-size: 0.75rem;
            color: #888;
            margin-bottom: 12px;
        }

        .admin-buttons {
            display: flex;
            gap: 10px;
        }

        .approve-btn,
        .decline-btn {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.85rem;
            transition: var(--transition);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .approve-btn {
            background: #4caf50;
            color: white;
        }

        .approve-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .decline-btn {
            background: #f44336;
            color: white;
        }

        .decline-btn:hover {
            background: #da190b;
            transform: translateY(-2px);
        }

        /* ==================== ADMIN LOGIN MODAL ==================== */
        .admin-login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .admin-login-modal.active {
            display: flex;
            opacity: 1;
        }

        .admin-login-box {
            background: linear-gradient(135deg, #2a2a2a 0%, #1f1f1f 100%);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            max-width: 450px;
            width: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .admin-login-modal.active .admin-login-box {
            transform: scale(1);
        }

        .admin-login-title {
            font-size: 1.8rem;
            color: #ffd700;
            text-align: center;
            margin-bottom: 30px;
            font-weight: 700;
        }

        .admin-login-input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            border: 2px solid #444;
            border-radius: 10px;
            background: #1a1a1a;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .admin-login-input:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }

        .admin-login-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
        }

        .admin-login-submit {
            flex: 1;
            padding: 15px;
            background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
            color: #000;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-login-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
        }

        .admin-login-cancel {
            flex: 1;
            padding: 15px;
            background: #444;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-login-cancel:hover {
            background: #555;
            transform: translateY(-2px);
        }

        /* ==================== RESPONSIVE DESIGN ==================== */
        @media (max-width: 1366px) and (min-width: 1024px) {
            .container {
                max-width: 1100px;
                padding: 40px 30px;
            }

            .title {
                font-size: 3.2rem;
            }

            .main-content {
                gap: 30px;
            }

            .components-section {
                gap: 12px;
            }

            .how-it-works {
                margin-top: 40px;
                padding: 26px;
            }

            .features-list {
                grid-template-columns: repeat(3, 1fr);
                gap: 18px;
            }

            .feature-text {
                font-size: 0.8rem;
            }
        }

        @media (max-width: 1024px) and (min-width: 769px) {
            .main-content {
                gap: 25px;
            }

            .features-list {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .feedback-btn {
                bottom: 30px;
                right: 30px;
                padding: 14px 20px;
                font-size: 0.85rem;
            }

            .modal-content {
                padding: 30px 20px;
                max-width: 95%;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            .comments-list {
                max-height: 250px;
            }

            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .title {
                font-size: 2.5rem;
            }

            .section-title,
            .how-it-works-title,
            .features-title {
                font-size: 1.3rem;
            }

            .component-title {
                font-size: 1.1rem;
            }

            .features-list {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .container {
                padding: 30px 15px;
            }
        }

        @media (max-width: 480px) {
            .feedback-btn {
                bottom: 20px;
                right: 20px;
                padding: 12px 16px;
                font-size: 0.75rem;
            }

            .modal-content {
                padding: 20px 15px;
                max-width: 100%;
            }

            .modal-title {
                font-size: 1.2rem;
            }

            .comments-list {
                max-height: 200px;
            }

            .title {
                font-size: 2rem;
                letter-spacing: 1px;
            }

            .subtitle {
                font-size: 0.85rem;
            }

            .section-title {
                font-size: 1.1rem;
            }

            .component-title {
                font-size: 1rem;
            }

            .how-it-works,
            .key-features {
                padding: 20px;
            }

            .features-list {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .feature-item {
                padding: 18px 15px;
            }

            .feature-icon {
                font-size: 2rem;
            }

            .step-number {
                min-width: 30px;
                height: 30px;
                font-size: 0.8rem;
            }

            .step-text {
                font-size: 0.85rem;
            }

            .feature-text {
                font-size: 0.8rem;
            }
        }

        /* ==================== FOOTER ==================== */
        .footer {
            text-align: center;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 59, 59, 0.2);
            color: #888;
            font-size: 0.9rem;
            animation: fadeIn 1.5s ease-out 1s both;
        }

        .footer a {
            color: var(--primary-red);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <div class="container">
        <div class="header">
            <h1 class="title">Tap2Pay</h1>
            <p class="subtitle">By Zeyad, Zuhair, Baraa | Arduino Science Fair Project</p>
        </div>

        <!-- Main Content: Two Column Layout -->
        <div class="main-content">
            <!-- Left Column: Components -->
            <div class="components-section">
                <h2 class="section-title">Main Components</h2>

                <!-- Component 1: Arduino Uno R3 -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">Arduino Uno R3</span>
                        <span class="arrow-icon">‚ñº</span>
                    </div>
                    <p class="component-description">The Arduino Uno R3 is the main controller of the entire Tap2Pay system. It manages communication between all hardware components, processes button input, receives data from the NFC reader, updates the OLED screen, and sends control signals to the servo motor. It also supplies power and ensures stable operation of the whole project.</p>
                </div>

                <!-- Component 2: NFC Card Reader -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">NFC Card Reader</span>
                        <span class="arrow-icon">‚ñº</span>
                    </div>
                    <p class="component-description">The NFC card reader detects NFC cards when they are placed near it. It reads stored information from the card and can write new data such as updated balance values. Each card acts like a digital wallet inside the system.</p>
                </div>

                <!-- Component 3: OLED Screen -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">OLED Screen</span>
                        <span class="arrow-icon">‚ñº</span>
                    </div>
                    <p class="component-description">The OLED screen displays all user interface elements. It shows menu options, balance amount, confirmations, and system messages, giving real-time feedback to the Card.</p>
                </div>

                <!-- Component 4: Tactile Push Buttons -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">Tactile Push Buttons</span>
                        <span class="arrow-icon">‚ñº</span>
                    </div>
                    <p class="component-description">Two tactile buttons allow navigation. The red button scrolls down through menu options. The green button confirms and selects options. This creates simple and intuitive control.</p>
                </div>

                <!-- Component 5: SG90 Servo Motor -->
                <div class="component-card">
                    <div class="component-header">
                        <span class="component-title">SG90 Servo Motor</span>
                        <span class="arrow-icon">‚ñº</span>
                    </div>
                    <p class="component-description">The SG90 servo motor controls a small physical barrier. When the OPEN BARRIER option is selected, the servo rotates to lift the barrier, allowing the mini car to pass, then closes again.</p>
                </div>
            </div>

            <!-- Right Column: How It Works & Key Features -->
            <div class="right-column">
                <!-- How It Works Section -->
                <div class="how-it-works">
                    <h2 class="how-it-works-title">How It Works</h2>
                    <div class="steps-list">
                       
                        <div class="step">
                            <div class="step-number">1</div>
                            <div class="step-text">OLED Screen displays menu: CHECK BALANCE, ADD MONEY, PAY MONEY, and OPEN BARRIER.</div>
                        </div>
                        <div class="step">
                            <div class="step-number">2</div>
                            <div class="step-text">Use buttons to navigate: Red = DOWN, Green = OK.</div>
                        </div>
                        <div class="step">
                            <div class="step-number">3</div>
                            <div class="step-text">Choose Options From The 4 Options CHECK BALANCE, ADD MONEY, PAY MONEY, and OPEN BARRIER.</div>
                        </div>
                        <div class="step">
                            <div class="step-number">4</div>
                            <div class="step-text">After that follow the instructions on the screen depending on what option you choose.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Features Section - Full Width Below Main Content -->
        <div class="key-features">
            <h2 class="features-title">Key Features</h2>
            <div class="features-list">
                <div class="feature-item">
                    <span class="feature-icon">‚ö°</span>
                    <div>
                        <div class="feature-title">Interactive NFC Menu</div>
                        <span class="feature-text">Contactless card recognition with instant response.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üí∞</span>
                    <div>
                        <div class="feature-title">Balance Simulation</div>
                        <span class="feature-text">Add, Pay, and track digital wallet funds in real-time.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üöó</span>
                    <div>
                        <div class="feature-title">Gate Control System</div>
                        <span class="feature-text">Motorized barrier opens with servo activation.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üéÆ</span>
                    <div>
                        <div class="feature-title">Two-Button Navigation</div>
                        <span class="feature-text">Simple red and green button menu control.</span>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üì±</span>
                    <div>
                        <div class="feature-title">OLED Feedback</div>
                        <span class="feature-text">Crystal-clear display of all user interactions.</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>üöÄ Science Fair Project | Arduino-Powered NFC Payment System</p>
            <p style="margin-top: 10px; font-size: 0.8rem;">¬© 2026 Tap2Pay Project | All Rights Reserved</p>
        </div>
    </div>

    <!-- Feedback Button -->
    <button class="feedback-btn" id="feedbackBtn">
        üí¨ Updates
        <span class="feedback-badge" id="badgeCount" style="display: none;">0</span>
    </button>

    <!-- Feedback Modal -->
    <div class="modal-overlay" id="feedbackModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Project Updates</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>

            <div class="error-message" id="errorMessage"></div>
            <div class="success-message" id="successMessage">‚úì Your suggestion has been submitted for review!</div>

            <!-- Feedback Form -->
            <form class="feedback-form" id="feedbackForm">
                <div class="form-group">
                    <label class="form-label" for="suggestionTitle">Your Name or Title</label>
                    <input type="text" id="suggestionTitle" class="form-input" placeholder="e.g., Feature Idea, Bug Report" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="suggestionText">Your Suggestion or Update</label>
                    <textarea id="suggestionText" class="form-textarea" placeholder="Share your ideas, suggestions, or updates..." required></textarea>
                </div>

                <button type="submit" class="submit-btn" id="submitBtn">
                    <span class="loading-spinner" id="spinner" style="display: none;"></span>
                    Submit Suggestion
                </button>
            </form>

            <!-- Comments Section -->
            <div class="comments-section">
                <h3 class="comments-title">All Submissions</h3>
                <div class="comments-list" id="commentsList">
                    <div class="no-comments">No updates yet. Be the first to suggest!</div>
                </div>
            </div>

            <!-- Admin Login Button -->
            <div style="text-align: center; margin: 20px 0;">
                <button class="submit-btn" id="adminLoginBtn" style="background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%); width: auto; padding: 12px 30px;">üîê Admin Login</button>
            </div>

            <!-- Admin Panel -->
            <div class="admin-panel" id="adminPanel">
                <h3 class="admin-title">üîê Admin Panel</h3>
                <div id="pendingSubmissions"></div>
                <button class="decline-btn" id="logoutAdmin" style="width: auto; margin-top: 15px;">Logout Admin</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="admin-login-modal" id="adminLoginModal">
        <div class="admin-login-box">
            <h2 class="admin-login-title">üîê Admin Login</h2>
            <input type="email" id="adminEmail" class="admin-login-input" placeholder="Email Address" required>
            <input type="password" id="adminPassword" class="admin-login-input" placeholder="Password" required>
            <div class="admin-login-buttons">
                <button class="admin-login-submit" id="adminLoginSubmit">Login</button>
                <button class="admin-login-cancel" id="adminLoginCancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- JavaScript for Interactivity -->
    <script>
        // ==================== COMPONENT CARD ACCORDION ==================== //
        const componentCards = document.querySelectorAll('.component-card');

        componentCards.forEach(card => {
            card.addEventListener('click', function() {
                // Check if this card is already expanded
                const isExpanded = this.classList.contains('expanded');

                // Close all other cards
                componentCards.forEach(c => {
                    if (c !== this) {
                        c.classList.remove('expanded');
                    }
                });

                // Toggle current card
                this.classList.toggle('expanded');
            });
        });

        // ==================== SMOOTH SCROLL & PAGE LOAD EFFECTS ==================== //
        // Ensure smooth animations on page load
        window.addEventListener('load', function() {
            // Animation triggers are handled by CSS
            console.log('Tap2Pay website loaded successfully!');
            initFeedbackSystem();
        });

        // ==================== PREVENT SCROLLING INTERFERENCE ==================== //
        // Smooth scroll behavior for better UX
        document.documentElement.style.scrollBehavior = 'smooth';

        // ==================== FIREBASE CONFIGURATION ==================== //
        const firebaseConfig = {
            apiKey: "AIzaSyC6yVkSQT4gn47YIo5UAJzgVEGlfHaFsTE",
            authDomain: "tap2pay-c4bae.firebaseapp.com",
            projectId: "tap2pay-c4bae",
            storageBucket: "tap2pay-c4bae.firebasestorage.app",
            messagingSenderId: "843180266943",
            appId: "1:843180266943:web:03d4fec1918a3180247d0a",
            measurementId: "G-5CZ7BPWXN5",
            databaseURL: "https://tap2pay-c4bae-default-rtdb.firebaseio.com"
        };

        // Initialize Firebase (if available)
        let database = null;
        let auth = null;
        let currentAdminUser = null;

        // Initialize Firebase if script is loaded
        if (typeof firebase !== 'undefined') {
            firebase.initializeApp(firebaseConfig);
            database = firebase.database();
            auth = firebase.auth();
        }

        // ==================== FEEDBACK SYSTEM ==================== //
        function initFeedbackSystem() {
            const feedbackBtn = document.getElementById('feedbackBtn');
            const feedbackModal = document.getElementById('feedbackModal');
            const closeModal = document.getElementById('closeModal');
            const feedbackForm = document.getElementById('feedbackForm');
            const submitBtn = document.getElementById('submitBtn');
            const errorMsg = document.getElementById('errorMessage');
            const successMsg = document.getElementById('successMessage');

            // Open modal
            feedbackBtn.addEventListener('click', () => {
                feedbackModal.classList.add('active');
                loadComments();
                checkAdminStatus();
            });

            // Close modal
            closeModal.addEventListener('click', () => {
                feedbackModal.classList.remove('active');
            });

            // Close on overlay click
            feedbackModal.addEventListener('click', (e) => {
                if (e.target === feedbackModal) {
                    feedbackModal.classList.remove('active');
                }
            });

            // Submit form
            feedbackForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                await submitFeedback();
            });

            // Admin login button - Open modal
            const adminLoginBtn = document.getElementById('adminLoginBtn');
            const adminLoginModal = document.getElementById('adminLoginModal');
            const adminLoginSubmit = document.getElementById('adminLoginSubmit');
            const adminLoginCancel = document.getElementById('adminLoginCancel');
            const adminEmail = document.getElementById('adminEmail');
            const adminPassword = document.getElementById('adminPassword');

            adminLoginBtn.addEventListener('click', () => {
                adminLoginModal.classList.add('active');
                adminEmail.value = '';
                adminPassword.value = '';
                adminEmail.focus();
            });

            // Cancel login
            adminLoginCancel.addEventListener('click', () => {
                adminLoginModal.classList.remove('active');
            });

            // Close modal on overlay click
            adminLoginModal.addEventListener('click', (e) => {
                if (e.target === adminLoginModal) {
                    adminLoginModal.classList.remove('active');
                }
            });

            // Submit login
            adminLoginSubmit.addEventListener('click', async () => {
                const email = adminEmail.value.trim();
                const password = adminPassword.value.trim();
                
                if (!email || !password) {
                    alert('Please enter both email and password');
                    return;
                }

                if (auth) {
                    adminLoginSubmit.disabled = true;
                    adminLoginSubmit.textContent = 'Logging in...';
                    
                    try {
                        await auth.signInWithEmailAndPassword(email, password);
                        alert('‚úì Admin login successful!');
                        adminLoginModal.classList.remove('active');
                        checkAdminStatus();
                    } catch (error) {
                        alert('‚úï Login failed: ' + error.message);
                    } finally {
                        adminLoginSubmit.disabled = false;
                        adminLoginSubmit.textContent = 'Login';
                    }
                }
            });

            // Enter key to submit login
            adminPassword.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    adminLoginSubmit.click();
                }
            });

            // Load initial comments and pending count
            loadPendingCount();
        }

        // Submit feedback to Realtime Database
        async function submitFeedback() {
            const submitBtn = document.getElementById('submitBtn');
            const spinner = document.getElementById('spinner');
            const errorMsg = document.getElementById('errorMessage');
            const successMsg = document.getElementById('successMessage');
            const form = document.getElementById('feedbackForm');

            const title = document.getElementById('suggestionTitle').value.trim();
            const text = document.getElementById('suggestionText').value.trim();

            if (!title || !text) {
                showError('Please fill in all fields');
                return;
            }

            submitBtn.disabled = true;
            spinner.style.display = 'inline-block';
            errorMsg.classList.remove('show');
            successMsg.classList.remove('show');

            try {
                if (database) {
                    // Add to Realtime Database
                    const newRef = firebase.database().ref('suggestions').push();
                    await newRef.set({
                        title: title,
                        text: text,
                        status: 'pending',
                        timestamp: firebase.database.ServerValue.TIMESTAMP,
                        ip: 'anonymous'
                    });

                    // Show success
                    successMsg.classList.add('show');
                    form.reset();

                    // Reload comments and pending count
                    setTimeout(() => {
                        loadComments();
                        loadPendingCount();
                        successMsg.classList.remove('show');
                    }, 2000);
                } else {
                    // Demo mode - no Firebase
                    showError('Firebase not configured. Setup required.');
                }
            } catch (error) {
                console.error('Error submitting feedback:', error);
                showError('Failed to submit. Please try again.');
            } finally {
                submitBtn.disabled = false;
                spinner.style.display = 'none';
            }
        }

        // Load all comments from Realtime Database (with status badges)
        function loadComments() {
            const commentsList = document.getElementById('commentsList');

            if (!database) {
                commentsList.innerHTML = '<div class="no-comments">Firebase not configured</div>';
                return;
            }

            firebase.database().ref('suggestions').orderByChild('timestamp').on('value', (snapshot) => {
                if (!snapshot.exists()) {
                    commentsList.innerHTML = '<div class="no-comments">No submissions yet.</div>';
                    return;
                }

                const comments = [];
                snapshot.forEach((childSnapshot) => {
                    const data = childSnapshot.val();
                    comments.push({
                        id: childSnapshot.key,
                        ...data
                    });
                });

                if (comments.length === 0) {
                    commentsList.innerHTML = '<div class="no-comments">No submissions yet.</div>';
                    return;
                }

                // Sort by timestamp descending
                comments.sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));

                commentsList.innerHTML = '';
                comments.forEach((comment, index) => {
                    const date = comment.timestamp 
                        ? new Date(comment.timestamp).toLocaleDateString() 
                        : 'Unknown';
                    
                    // Status badge
                    let statusBadge = '';
                    let cardStyle = '';
                    if (comment.status === 'approved') {
                        statusBadge = '<span style="background: #28a745; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold;">‚úì APPROVED</span>';
                    } else if (comment.status === 'rejected') {
                        statusBadge = '<span style="background: #dc3545; color: white; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold;">‚úï DECLINED</span>';
                        cardStyle = 'opacity: 0.6; border-left: 3px solid #dc3545;';
                    } else if (comment.status === 'pending') {
                        statusBadge = '<span style="background: #ffc107; color: #000; padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: bold;">‚è≥ PENDING</span>';
                        cardStyle = 'border-left: 3px solid #ffc107;';
                    }

                    const html = `
                        <div class="comment-card" style="animation-delay: ${index * 0.1}s; ${cardStyle}">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                <strong style="color: var(--primary-red);">${escapeHtml(comment.title)}</strong>
                                ${statusBadge}
                            </div>
                            <div class="comment-text">${escapeHtml(comment.text)}</div>
                            <div class="comment-date">üìÖ ${date}</div>
                        </div>
                    `;
                    commentsList.innerHTML += html;
                });
            });
        }

        // Load pending count from Realtime Database
        function loadPendingCount() {
            const badgeCount = document.getElementById('badgeCount');

            if (!database) {
                badgeCount.style.display = 'none';
                return;
            }

            firebase.database().ref('suggestions').on('value', (snapshot) => {
                if (!snapshot.exists()) {
                    badgeCount.style.display = 'none';
                    return;
                }

                let count = 0;
                snapshot.forEach((childSnapshot) => {
                    const data = childSnapshot.val();
                    if (data.status === 'pending') {
                        count++;
                    }
                });

                if (count > 0) {
                    badgeCount.textContent = count;
                    badgeCount.style.display = 'flex';
                } else {
                    badgeCount.style.display = 'none';
                }
            });
        }

        // Check admin status
        function checkAdminStatus() {
            const adminPanel = document.getElementById('adminPanel');

            if (!auth) {
                adminPanel.style.display = 'none';
                return;
            }

            auth.onAuthStateChanged((user) => {
                if (user && user.email === 'admin@tap2pay.com') {
                    currentAdminUser = user;
                    adminPanel.classList.add('active');
                    loadPendingSubmissions();

                    document.getElementById('logoutAdmin').addEventListener('click', () => {
                        auth.signOut();
                        currentAdminUser = null;
                        adminPanel.classList.remove('active');
                        location.reload();
                    });
                } else {
                    adminPanel.classList.remove('active');
                    currentAdminUser = null;
                }
            });
        }

        // Load pending submissions for admin from Realtime Database
        function loadPendingSubmissions() {
            const pendingContainer = document.getElementById('pendingSubmissions');

            if (!database || !currentAdminUser) {
                return;
            }

            firebase.database().ref('suggestions').orderByChild('timestamp').on('value', (snapshot) => {
                if (!snapshot.exists()) {
                    pendingContainer.innerHTML = '<div class="no-comments">No pending submissions</div>';
                    return;
                }

                const pending = [];
                snapshot.forEach((childSnapshot) => {
                    const data = childSnapshot.val();
                    if (data.status === 'pending') {
                        pending.push({
                            id: childSnapshot.key,
                            ...data
                        });
                    }
                });

                pendingContainer.innerHTML = '';

                if (pending.length === 0) {
                    pendingContainer.innerHTML = '<div class="no-comments">No pending submissions</div>';
                    return;
                }

                // Sort by timestamp ascending (oldest first)
                pending.sort((a, b) => (a.timestamp || 0) - (b.timestamp || 0));

                pending.forEach((item) => {
                    const date = item.timestamp 
                        ? new Date(item.timestamp).toLocaleDateString() 
                        : 'Unknown';
                    const html = `
                        <div class="pending-item">
                            <strong style="color: var(--primary-red);">${escapeHtml(item.title)}</strong>
                            <div class="pending-text">${escapeHtml(item.text)}</div>
                            <div class="pending-meta">üìÖ ${date}</div>
                            <div class="admin-buttons">
                                <button class="approve-btn" onclick="approveSubmission('${item.id}')">‚úì Approve</button>
                                <button class="decline-btn" onclick="declineSubmission('${item.id}')">‚úï Decline</button>
                            </div>
                        </div>
                    `;
                    pendingContainer.innerHTML += html;
                });
            });
        }

        // Approve submission in Realtime Database
        async function approveSubmission(docId) {
            if (!database || !currentAdminUser) return;

            try {
                await firebase.database().ref(`suggestions/${docId}`).update({
                    status: 'approved'
                });
                loadComments();
                loadPendingCount();
            } catch (error) {
                console.error('Error approving submission:', error);
            }
        }

        // Decline submission in Realtime Database
        async function declineSubmission(docId) {
            if (!database || !currentAdminUser) return;

            try {
                await firebase.database().ref(`suggestions/${docId}`).update({
                    status: 'rejected'
                });
                loadComments();
                loadPendingCount();
            } catch (error) {
                console.error('Error declining submission:', error);
            }
        }

        // Show error message
        function showError(message) {
            const errorMsg = document.getElementById('errorMessage');
            errorMsg.textContent = '‚úï ' + message;
            errorMsg.classList.add('show');
            setTimeout(() => {
                errorMsg.classList.remove('show');
            }, 4000);
        }

        // Escape HTML to prevent XSS
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>

</body>
</html>
